function ts(H){return H&&H.__esModule&&Object.prototype.hasOwnProperty.call(H,"default")?H.default:H}var ot={exports:{}},es=ot.exports,he;function ss(){return he||(he=1,function(H,de){(function(C,Y){Y(de)})(es,function(C){let Y;const ue=new Uint8Array(16);function pe(){if(!Y&&(Y=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Y))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Y(ue)}const x=[];for(let n=0;n<256;++n)x.push((n+256).toString(16).slice(1));function fe(n,t=0){return(x[n[t+0]]+x[n[t+1]]+x[n[t+2]]+x[n[t+3]]+"-"+x[n[t+4]]+x[n[t+5]]+"-"+x[n[t+6]]+x[n[t+7]]+"-"+x[n[t+8]]+x[n[t+9]]+"-"+x[n[t+10]]+x[n[t+11]]+x[n[t+12]]+x[n[t+13]]+x[n[t+14]]+x[n[t+15]]).toLowerCase()}var It={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function me(n,t,e){if(It.randomUUID&&!n)return It.randomUUID();n=n||{};const s=n.random||(n.rng||pe)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,fe(s)}const U=n=>{const t=n===void 0?"nsw":n,e=me();return`${t}-${e}`},ge=n=>({all:n,first:n[0],last:n[n.length-1],length:n.length}),at=(n,t)=>{const e=[];for(let i=0;i<t.length;i+=1)e.push([].slice.call(document.querySelectorAll(`#${n} ${t[i]}`)));const s=[].concat(...e);return ge(s)},$t=(n,t)=>{const{activeElement:e}=document,s=t;return n.keyCode!==9?!1:(s.length===1?n.preventDefault():n.shiftKey&&e===s.first?(s.last.focus(),n.preventDefault()):!n.shiftKey&&e===s.last&&(s.first.focus(),n.preventDefault()),!0)},be=()=>{const n=document.createElement("fakeelement"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},e=Object.keys(t).filter(s=>n.style[s]!==void 0);return t[e[0]]};function ve(n){let{textContent:t}=n;const e=document.createDocumentFragment(),s=document.createElement("button"),i=U("accordion");return s.textContent=t,s.setAttribute("type","button"),s.setAttribute("aria-expanded","false"),s.setAttribute("aria-controls",i),s.classList.add("nsw-accordion__button"),s.insertAdjacentHTML("beforeend",`
  <span class="material-icons nsw-material-icons" focusable="false" aria-hidden="true">keyboard_arrow_down</span>
  `),e.appendChild(s),e}class Dt{constructor(t){this.element=t;const[e,s]=Array.from(this.element.querySelectorAll(".nsw-accordion__toggle button"));this.accordionHeadingClass=".nsw-accordion__title",this.headings=this.element.querySelectorAll(this.accordionHeadingClass),this.expandAllBtn=e,this.collapseAllBtn=s,this.isExpandedOnLoad=this.element.querySelectorAll(".nsw-accordion__open"),this.buttons=[],this.content=[],this.toggleEvent=i=>this.toggle(i),this.expandAllEvent=i=>this.expandAll(i),this.collapseAllEvent=i=>this.collapseAll(i)}init(){this.setUpDom(),this.controls()}setUpDom(){this.element.classList.add("ready"),this.collapseAllBtn&&(this.collapseAllBtn.disabled=!0),this.headings.forEach(t=>{const e=t,s=t.nextElementSibling,i=ve(t);e.textContent="",e.appendChild(i);const o=e.getElementsByTagName("button")[0];s&&(s.id=o.getAttribute("aria-controls"),s.hidden="until-found",this.content.push(s)),this.buttons.push(o)}),this.isExpandedOnLoad&&this.isExpandedOnLoad.forEach(t=>{const e=t.querySelector("button");this.setAccordionState(e,"open")})}controls(){this.buttons.forEach(t=>{t.addEventListener("click",this.toggleEvent,!1),t.addEventListener("beforematch",this.toggleEvent,!1)}),this.expandAllBtn&&this.collapseAllBtn&&(this.expandAllBtn.addEventListener("click",this.expandAllEvent,!1),this.collapseAllBtn.addEventListener("click",this.collapseAllEvent,!1))}getTargetContent(t){const e=this.buttons.indexOf(t);return this.content[e]}setAccordionState(t,e){const s=this.getTargetContent(t);e==="open"?(t.classList.add("active"),t.setAttribute("aria-expanded","true"),s.hidden=!1):e==="close"&&(t.classList.remove("active"),t.setAttribute("aria-expanded","false"),s.hidden="until-found")}toggle(t){const{currentTarget:e}=t,s=this.getTargetContent(e);if(s){const i=s.hidden;i===!0||i==="until-found"?this.setAccordionState(e,"open"):this.setAccordionState(e,"close"),this.expandAllBtn&&this.collapseAllBtn&&(this.expandAllBtn.disabled=this.content.every(o=>o.hidden===!1),this.collapseAllBtn.disabled=this.content.every(o=>o.hidden==="until-found"))}}expandAll(){this.buttons.forEach(t=>{this.setAccordionState(t,"open")}),this.expandAllBtn.disabled=!0,this.collapseAllBtn.disabled=!1}collapseAll(){this.buttons.forEach(t=>{this.setAccordionState(t,"close")}),this.expandAllBtn.disabled=!1,this.collapseAllBtn.disabled=!0}}class _t{constructor(t){this.element=t,this.dataElement=this.element.getAttribute("data-element"),this.scrollOffset=this.element.getAttribute("data-offset"),this.text=!1,this.icon=!1,this.scrollElement=this.dataElement?document.querySelector(this.dataElement):window,this.scrollPosition=0,this.width=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),this.height=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),this.condition=!1}init(){this.createButton(),this.element.addEventListener("click",s=>{s.preventDefault(),window.requestAnimationFrame?this.dataElement?this.scrollElement.scrollTo({top:0,behavior:"smooth"}):window.scrollTo({top:0,behavior:"smooth"}):this.scrollElement.scrollTo(0,0)}),this.checkBackToTop();const t=this.debounce(this.checkBackToTop);this.scrollElement.addEventListener("scroll",()=>{t()});const e=this.debounce(this.resizeHandler);window.addEventListener("resize",()=>{e()})}createButton(){const t=this.constructor.createElement("span"),e=this.constructor.createElement("span",["material-icons","nsw-material-icons"],{title:"Back to top",focusable:"false","aria-hidden":"true"});this.element.append(t,e),this.text=this.element.querySelector("span:not(.material-icons)"),this.icon=this.element.querySelector("span.material-icons"),this.createButtonContent()}createButtonContent(){this.width<768?(this.text.innerText="Top",this.icon.innerText="keyboard_arrow_up"):(this.text.innerText="Back to top",this.icon.innerText="north")}checkBackToTop(){let t=this.scrollElement.scrollTop||document.documentElement.scrollTop;this.dataElement||(t=window.scrollY||document.documentElement.scrollTop);const e=this.scrollPosition;this.scrollPosition=window.scrollY,this.scrollOffset&&this.scrollOffset>0?(this.condition=t>=this.scrollOffset,this.element.classList.toggle("active",this.condition)):(this.condition=e>this.scrollPosition&&this.scrollPosition>200,this.element.classList.toggle("active",this.condition))}resizeHandler(){const t=this.width,e=this.height;this.width=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),this.height=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),t!==this.width&&e===this.height&&this.createButtonContent()}debounce(t){var e=this;let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250,i;return function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];const r=e;window.requestAnimationFrame?(i&&window.cancelAnimationFrame(i),i=window.requestAnimationFrame(()=>{t.apply(r,a)})):(clearTimeout(i),i=setTimeout(()=>t.apply(r,a),s))}}static createElement(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=document.createElement(t);return e.length>0&&i.classList.add(...e),Object.entries(s).forEach(o=>{let[a,l]=o;i.setAttribute(a,l)}),i}}class ye{constructor(t){this.element=t,this.allBreadcrumbs=this.element.querySelector(".nsw-breadcrumbs ol"),this.secondBreadcrumb=this.element.querySelector(".js-breadcrumbs li:nth-child(2)"),this.condition=!1}init(){this.allBreadcrumbs.children.length>3&&this.createToggle(),this.element.addEventListener("click",t=>{t.preventDefault(),this.allBreadcrumbs.classList.toggle("nsw-breadcrumbs__show-all")})}createToggle(){const t=this.constructor.createElement("li",["nsw-breadcrumbs__show-more-toggle"]);t.innerHTML='<button aria-label="Show more breadcrumbs" class="nsw-breadcrumbs__toggle-button" type="button">â€¦</button>',this.allBreadcrumbs.insertBefore(t,this.secondBreadcrumb)}static createElement(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=document.createElement(t);return e.length>0&&i.classList.add(...e),Object.entries(s).forEach(o=>{let[a,l]=o;i.setAttribute(a,l)}),i}}class Nt{constructor(t){this.element=t,this.prefix="nsw-",this.class="date-picker",this.uID=U("calendar-label"),this.dateClass=`${this.prefix}${this.class}__date`,this.todayClass=`${this.dateClass}--today`,this.selectedClass=`${this.dateClass}--selected`,this.keyboardFocusClass=`${this.dateClass}--keyboard-focus`,this.visibleClass=`${this.prefix}${this.class}--is-visible`,this.months=this.element.getAttribute("data-months")?this.element.getAttribute("data-months"):["January","February","March","April","May","June","July","August","September","October","November","December"],this.dateFormat=this.element.getAttribute("data-date-format")?this.element.getAttribute("data-date-format"):"d-m-y",this.dateSeparator=this.element.getAttribute("data-date-separator")?this.element.getAttribute("data-date-separator"):"/",this.datesDisabled=this.element.getAttribute("data-dates-disabled")?this.element.getAttribute("data-dates-disabled"):"",this.minDate=this.element.getAttribute("data-min-date")?this.element.getAttribute("data-min-date"):"",this.maxDate=this.element.getAttribute("data-max-date")?this.element.getAttribute("data-max-date"):"",this.input=this.element.querySelector(".js-date-input__text"),this.trigger=this.element.querySelector(".js-date-input__trigger"),this.triggerLabel=this.trigger&&this.trigger.getAttribute("aria-label")?this.trigger.getAttribute("aria-label"):"Select a date",this.datePicker=this.element.querySelector(".js-date-picker"),this.body=this.datePicker&&this.datePicker.querySelector(".js-date-picker__dates"),this.navigation=this.datePicker&&this.datePicker.querySelector(".js-date-picker__title-nav"),this.heading=this.datePicker&&this.datePicker.querySelector(".js-date-picker__title-label"),this.close=this.datePicker&&this.datePicker.querySelector(".js-date-picker__close"),this.accept=this.datePicker&&this.datePicker.querySelector(".js-date-picker__accept"),this.multipleInput=this.element.querySelector(".js-date-input-multiple"),this.dateInput=this.multipleInput&&this.multipleInput.querySelector(".js-date-picker-date"),this.monthInput=this.multipleInput&&this.multipleInput.querySelector(".js-date-picker-month"),this.yearInput=this.multipleInput&&this.multipleInput.querySelector(".js-date-picker-year"),this.multiDateArray=[this.dateInput,this.monthInput,this.yearInput],this.dateIndexes=this.getDateIndexes(),this.pickerVisible=!1,this.dateSelected=!1,this.selectedDay=!1,this.selectedMonth=!1,this.selectedYear=!1,this.firstFocusable=!1,this.lastFocusable=!1,this.disabledArray=!1}init(){!this.input&&!this.multipleInput||(this.datePicker||this.initCreateCalendar(),this.disabledDates(),this.resetCalendar(),this.initCalendarAria(),this.initCalendarEvents(),this.placeCalendar())}initCreateCalendar(){const t=`
    <div class="nsw-date-picker js-date-picker" role="dialog" aria-labelledby="${this.uID}">
      <header class="nsw-date-picker__header">
        <div class="nsw-date-picker__title">
          <span class="nsw-date-picker__title-label js-date-picker__title-label" id="${this.uID}"></span>

          <nav>
            <ul class="nsw-date-picker__title-nav js-date-picker__title-nav">
              <li>
                <button class="nsw-icon-button nsw-date-picker__title-nav-btn js-date-picker__year-nav-btn js-date-picker__year-nav-btn--prev" type="button">
                  <span class="material-icons nsw-material-icons">keyboard_double_arrow_left</span>
                </button>
                <button class="nsw-icon-button nsw-date-picker__title-nav-btn js-date-picker__month-nav-btn js-date-picker__month-nav-btn--prev" type="button">
                  <span class="material-icons nsw-material-icons">chevron_left</span>
                </button>
              </li>

              <li>
                <button class="nsw-icon-button nsw-date-picker__title-nav-btn js-date-picker__month-nav-btn js-date-picker__month-nav-btn--next" type="button">
                  <span class="material-icons nsw-material-icons">chevron_right</span>
                </button>
                <button class="nsw-icon-button nsw-date-picker__title-nav-btn js-date-picker__year-nav-btn js-date-picker__year-nav-btn--next" type="button">
                  <span class="material-icons nsw-material-icons">keyboard_double_arrow_right</span>
                </button>
              </li>
            </ul>
          </nav>
        </div>

        <ol class="nsw-date-picker__week">
          <li><div class="nsw-date-picker__day">M<span class="sr-only">onday</span></div></li>
          <li><div class="nsw-date-picker__day">T<span class="sr-only">uesday</span></div></li>
          <li><div class="nsw-date-picker__day">W<span class="sr-only">ednesday</span></div></li>
          <li><div class="nsw-date-picker__day">T<span class="sr-only">hursday</span></div></li>
          <li><div class="nsw-date-picker__day">F<span class="sr-only">riday</span></div></li>
          <li><div class="nsw-date-picker__day">S<span class="sr-only">aturday</span></div></li>
          <li><div class="nsw-date-picker__day">S<span class="sr-only">unday</span></div></li>
        </ol>
      </header>

      <ol class="nsw-date-picker__dates js-date-picker__dates" aria-labelledby="${this.uID}">
        
      </ol>

      <div class="nsw-date-picker__buttongroup">
        <button type="button" class="nsw-button nsw-button--dark-outline-solid js-date-picker__close" value="cancel">Cancel</button>
        <button type="button" class="nsw-button nsw-button--dark js-date-picker__accept" value="ok">OK</button>
      </div>
    </div>`;this.element.insertAdjacentHTML("beforeend",t),this.datePicker=this.element.querySelector(".js-date-picker"),this.body=this.datePicker.querySelector(".js-date-picker__dates"),this.navigation=this.datePicker.querySelector(".js-date-picker__title-nav"),this.heading=this.datePicker.querySelector(".js-date-picker__title-label"),this.close=this.datePicker.querySelector(".js-date-picker__close"),this.accept=this.datePicker.querySelector(".js-date-picker__accept")}initCalendarAria(){this.resetLabelCalendarTrigger();const t=document.createElement("div");t.setAttribute("aria-live","polite"),t.classList.add("sr-only","js-date-input__sr-live"),this.element.appendChild(t),this.srLiveReagion=this.element.querySelector(".js-date-input__sr-live")}initCalendarEvents(){this.input&&this.input.addEventListener("focus",()=>{this.toggleCalendar(!0)}),this.multipleInput&&this.multiDateArray.forEach(t=>{t.addEventListener("focus",()=>{this.hideCalendar()})}),this.trigger&&this.trigger.addEventListener("click",t=>{t.preventDefault(),this.pickerVisible=!1,this.toggleCalendar(),this.trigger.setAttribute("aria-expanded","true")}),this.close&&this.close.addEventListener("click",t=>{t.preventDefault(),this.hideCalendar()}),this.accept&&this.accept.addEventListener("click",t=>{t.preventDefault();const e=this.body.querySelector('button[tabindex="0"]');e&&(this.dateSelected=!0,this.selectedDay=e.innerText,this.selectedMonth=this.currentMonth,this.selectedYear=this.currentYear,this.setInputValue(),this.input?this.input.focus():this.multipleInput&&(this.trigger.focus(),this.hideCalendar()),this.resetLabelCalendarTrigger())}),this.body.addEventListener("click",t=>{t.preventDefault();const e=t.target.closest("button");e&&(this.dateSelected=!0,this.selectedDay=e.innerText,this.selectedMonth=this.currentMonth,this.selectedYear=this.currentYear,this.setInputValue(),this.input?this.input.focus():this.multipleInput&&(this.trigger.focus(),this.hideCalendar()),this.resetLabelCalendarTrigger())}),this.navigation.addEventListener("click",t=>{t.preventDefault();const e=t.target.closest(".js-date-picker__month-nav-btn"),s=t.target.closest(".js-date-picker__year-nav-btn");e&&e.classList.contains("js-date-picker__month-nav-btn--prev")?this.showPrevMonth(!0):e&&e.classList.contains("js-date-picker__month-nav-btn--next")?this.showNextMonth(!0):s&&s.classList.contains("js-date-picker__year-nav-btn--prev")?this.showPrevYear(!0):s&&s.classList.contains("js-date-picker__year-nav-btn--next")&&this.showNextYear(!0)}),window.addEventListener("keydown",t=>{(t.code&&t.code===27||t.key&&t.key.toLowerCase()==="escape")&&(document.activeElement.closest(".js-date-picker")?document.activeElement.closest(".js-date-input").querySelector("input").focus():this.hideCalendar())}),window.addEventListener("click",t=>{!t.target.closest(".js-date-picker")&&!t.target.closest(".js-date-input")&&this.pickerVisible&&this.hideCalendar()}),this.body.addEventListener("keydown",t=>{let e=this.currentDay;t.code&&t.code===40||t.key&&t.key.toLowerCase()==="arrowdown"?(e+=7,this.resetDayValue(e)):t.code&&t.code===39||t.key&&t.key.toLowerCase()==="arrowright"?(e+=1,this.resetDayValue(e)):t.code&&t.code===37||t.key&&t.key.toLowerCase()==="arrowleft"?(e-=1,this.resetDayValue(e)):t.code&&t.code===38||t.key&&t.key.toLowerCase()==="arrowup"?(e-=7,this.resetDayValue(e)):t.code&&t.code===35||t.key&&t.key.toLowerCase()==="end"?(t.preventDefault(),e=e+6-this.getDayOfWeek(this.currentYear,this.currentMonth,e),this.resetDayValue(e)):t.code&&t.code===36||t.key&&t.key.toLowerCase()==="home"?(t.preventDefault(),e-=this.getDayOfWeek(this.currentYear,this.currentMonth,e),this.resetDayValue(e)):t.code&&t.code===34||t.key&&t.key.toLowerCase()==="pagedown"?(t.preventDefault(),this.showNextMonth()):(t.code&&t.code===33||t.key&&t.key.toLowerCase()==="pageup")&&(t.preventDefault(),this.showPrevMonth())}),this.datePicker.addEventListener("keydown",t=>{(t.code&&t.code===9||t.key&&t.key==="Tab")&&this.trapFocus(t)}),this.input&&this.input.addEventListener("keydown",t=>{t.code&&t.code===13||t.key&&t.key.toLowerCase()==="enter"?(this.resetCalendar(),this.resetLabelCalendarTrigger(),this.hideCalendar()):(t.code&&t.code===40||t.key&&t.key.toLowerCase()==="arrowdown"&&this.pickerVisible)&&this.body.querySelector('button[tabindex="0"]').focus()}),this.multipleInput&&this.multiDateArray.forEach(t=>{t.addEventListener("keydown",e=>{e.code&&e.code===13||e.key&&e.key.toLowerCase()==="enter"?(this.resetCalendar(),this.resetLabelCalendarTrigger(),this.hideCalendar()):(e.code&&e.code===40||e.key&&e.key.toLowerCase()==="arrowdown"&&this.pickerVisible)&&this.body.querySelector('button[tabindex="0"]').focus()})})}getCurrentDay(t){return t?this.getDayFromDate(t):new Date().getDate()}getCurrentMonth(t){return t?this.getMonthFromDate(t):new Date().getMonth()}getCurrentYear(t){return t?this.getYearFromDate(t):new Date().getFullYear()}getDayFromDate(t){const e=parseInt(t.split("-")[2],10);return Number.isNaN(e)?this.getCurrentDay(!1):e}getMonthFromDate(t){const e=parseInt(t.split("-")[1],10)-1;return Number.isNaN(e)?this.getCurrentMonth(!1):e}getYearFromDate(t){const e=parseInt(t.split("-")[0],10);return Number.isNaN(e)?this.getCurrentYear(!1):e}showNextMonth(t){this.currentYear=this.currentMonth===11?this.currentYear+1:this.currentYear,this.currentMonth=(this.currentMonth+1)%12,this.currentDay=this.checkDayInMonth(),this.showCalendar(t),this.srLiveReagion.textContent=`${this.months[this.currentMonth]} ${this.currentYear}`}showPrevMonth(t){this.currentYear=this.currentMonth===0?this.currentYear-1:this.currentYear,this.currentMonth=this.currentMonth===0?11:this.currentMonth-1,this.currentDay=this.checkDayInMonth(),this.showCalendar(t),this.srLiveReagion.textContent=`${this.months[this.currentMonth]} ${this.currentYear}`}showNextYear(t){this.currentYear+=1,this.currentMonth%=12,this.currentDay=this.checkDayInMonth(),this.showCalendar(t),this.srLiveReagion.textContent=`${this.months[this.currentMonth]} ${this.currentYear}`}showPrevYear(t){this.currentYear-=1,this.currentMonth%=12,this.currentDay=this.checkDayInMonth(),this.showCalendar(t),this.srLiveReagion.textContent=`${this.months[this.currentMonth]} ${this.currentYear}`}checkDayInMonth(){return this.currentDay>this.constructor.daysInMonth(this.currentYear,this.currentMonth)?1:this.currentDay}static daysInMonth(t,e){return 32-new Date(t,e,32).getDate()}resetCalendar(){let t=!1,e;if(this.input?e=this.input.value:this.multipleInput&&(this.dateInput.value!==""&&this.monthInput.value!==""&&this.yearInput.value!==""?e=`${this.dateInput.value}/${this.monthInput.value}/${this.yearInput.value}`:e=""),this.dateSelected=!1,e!==""){const s=this.getDateFromInput();this.dateSelected=!0,t=s}this.currentDay=this.getCurrentDay(t),this.currentMonth=this.getCurrentMonth(t),this.currentYear=this.getCurrentYear(t),this.selectedDay=this.dateSelected?this.currentDay:!1,this.selectedMonth=this.dateSelected?this.currentMonth:!1,this.selectedYear=this.dateSelected?this.currentYear:!1}disabledDates(){this.disabledArray=[],this.datesDisabled&&this.datesDisabled.split(" ").forEach(e=>{this.disabledArray.push(e)})}convertDateToParse(t){const e=t.split(this.dateSeparator);return`${e[this.dateIndexes[2]]}, ${e[this.dateIndexes[1]]}, ${e[this.dateIndexes[0]]}`}isDisabledDate(t,e,s){let i=!1;const o=new Date(s,e,t),a=new Date(this.convertDateToParse(this.minDate)),l=new Date(this.convertDateToParse(this.maxDate));return this.minDate&&a>o&&(i=!0),this.maxDate&&l<o&&(i=!0),this.disabledArray.length>0&&this.disabledArray.forEach(r=>{const c=new Date(this.convertDateToParse(r));o.getTime()===c.getTime()&&(i=!0)}),i}showCalendar(t){const e=this.constructor.getDayOfWeek(this.currentYear,this.currentMonth,"01");this.body.innerHTML="",this.heading.innerHTML=`${this.months[this.currentMonth]} ${this.currentYear}`;let s=1,i="";for(let o=0;o<6;o+=1)for(let a=0;a<7;a+=1)if(o===0&&a<e)i+="<li></li>";else{if(s>this.constructor.daysInMonth(this.currentYear,this.currentMonth))break;{let l="",r="-1",c;s===this.currentDay&&(r="0"),this.getCurrentMonth()===this.currentMonth&&this.getCurrentYear()===this.currentYear&&s===this.getCurrentDay()&&(l+=` ${this.todayClass}`),this.isDisabledDate(s,this.currentMonth,this.currentYear)&&(l+=` ${this.dateClass}--disabled`,c='aria-disabled="true"'),this.dateSelected&&s===this.selectedDay&&this.currentYear===this.selectedYear&&this.currentMonth===this.selectedMonth&&(l+=` ${this.selectedClass}`),i=`${i}<li><button class="${this.dateClass}${l}" tabindex="${r}" type="button" ${c||""}>${s}</button></li>`,s+=1}}this.body.innerHTML=i,this.pickerVisible||this.datePicker.classList.add(this.visibleClass),this.pickerVisible=!0,t||this.body.querySelector('button[tabindex="0"]').focus(),this.getFocusableElements(),this.placeCalendar()}hideCalendar(){this.datePicker.classList.remove(this.visibleClass),this.pickerVisible=!1,this.firstFocusable=!1,this.lastFocusable=!1,this.trigger&&this.trigger.setAttribute("aria-expanded","false")}toggleCalendar(t){this.pickerVisible?this.hideCalendar():(this.resetCalendar(),this.showCalendar(t))}static getDayOfWeek(t,e,s){let i=new Date(t,e,s).getDay()-1;return i<0&&(i=6),i}getDateIndexes(){const t=this.dateFormat.toLowerCase().replace(/-/g,"");return[t.indexOf("d"),t.indexOf("m"),t.indexOf("y")]}setInputValue(){this.input?this.input.value=this.getDateForInput(this.selectedDay,this.selectedMonth,this.selectedYear):this.multipleInput&&(this.dateInput.value=this.constructor.getReadableDate(this.selectedDay),this.monthInput.value=this.constructor.getReadableDate(this.selectedMonth+1),this.yearInput.value=this.selectedYear)}getDateForInput(t,e,s){const i=[];return i[this.dateIndexes[0]]=this.constructor.getReadableDate(t),i[this.dateIndexes[1]]=this.constructor.getReadableDate(e+1),i[this.dateIndexes[2]]=s,i[0]+this.dateSeparator+i[1]+this.dateSeparator+i[2]}getDateFromInput(){let t;return this.input?t=this.input.value.split(this.dateSeparator):this.multipleInput&&(t=[this.dateInput.value,this.monthInput.value,this.yearInput.value]),`${t[this.dateIndexes[2]]}-${t[this.dateIndexes[1]]}-${t[this.dateIndexes[0]]}`}static getReadableDate(t){return t<10?`0${t}`:t}resetDayValue(t){const e=this.constructor.daysInMonth(this.currentYear,this.currentMonth);if(t>e)this.currentDay=t-e,this.showNextMonth(!1);else if(t<1){const s=this.currentMonth===0?11:this.currentMonth-1;this.currentDay=this.constructor.daysInMonth(this.currentYear,s)+t,this.showPrevMonth(!1)}else{this.currentDay=t;const s=this.body.querySelector('button[tabindex="0"]');s.setAttribute("tabindex","-1"),s.classList.remove(this.keyboardFocusClass);const i=this.body.getElementsByTagName("button");for(let o=0;o<i.length;o+=1)if(parseInt(i[o].textContent,10)===this.currentDay){i[o].setAttribute("tabindex","0"),i[o].classList.add(this.keyboardFocusClass),i[o].focus();break}this.getFocusableElements()}}resetLabelCalendarTrigger(){this.trigger&&(this.selectedYear&&this.selectedMonth!==!1&&this.selectedDay?this.trigger.setAttribute("aria-label",`Selected date is ${new Date(this.selectedYear,this.selectedMonth,this.selectedDay).toDateString()}`):this.trigger.setAttribute("aria-label",this.triggerLabel))}getFocusableElements(){const t=this.datePicker.querySelectorAll('[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex]:not([tabindex="-1"]), [contenteditable], audio[controls], video[controls], summary');this.getFirstFocusable(t),this.getLastFocusable(t)}getFirstFocusable(t){for(let e=0;e<t.length;e+=1)if((t[e].offsetWidth||t[e].offsetHeight||t[e].getClientRects().length)&&t[e].getAttribute("tabindex")!=="-1")return this.firstFocusable=t[e],!0;return!1}getLastFocusable(t){for(let e=t.length-1;e>=0;e-=1)if((t[e].offsetWidth||t[e].offsetHeight||t[e].getClientRects().length)&&t[e].getAttribute("tabindex")!=="-1")return this.lastFocusable=t[e],!0;return!1}trapFocus(t){this.firstFocusable===document.activeElement&&t.shiftKey&&(t.preventDefault(),this.lastFocusable.focus()),this.lastFocusable===document.activeElement&&!t.shiftKey&&(t.preventDefault(),this.firstFocusable.focus())}placeCalendar(){this.datePicker.style.left="0px",this.datePicker.style.right="auto",this.datePicker.getBoundingClientRect().right>window.innerWidth&&(this.datePicker.style.left="auto",this.datePicker.style.right="0px")}}function Ft(n){return Math.sign?Math.sign(n):(n>0)-(n<0)||+n}class we{constructor(t){this.element=t,this.delta=[!1,!1],this.dragging=!1,this.intervalId=!1,this.changedTouches=!1}init(){this.element.addEventListener("mousedown",this.handleEvent.bind(this)),this.element.addEventListener("touchstart",this.handleEvent.bind(this),{passive:!0})}initDragging(){this.element.addEventListener("mousemove",this.handleEvent.bind(this)),this.element.addEventListener("touchmove",this.handleEvent.bind(this),{passive:!0}),this.element.addEventListener("mouseup",this.handleEvent.bind(this)),this.element.addEventListener("mouseleave",this.handleEvent.bind(this)),this.element.addEventListener("touchend",this.handleEvent.bind(this))}cancelDragging(){this.intervalId&&(window.requestAnimationFrame?window.cancelAnimationFrame(this.intervalId):clearInterval(this.intervalId),this.intervalId=!1),this.element.removeEventListener("mousemove",this.handleEvent.bind(this)),this.element.removeEventListener("touchmove",this.handleEvent.bind(this)),this.element.removeEventListener("mouseup",this.handleEvent.bind(this)),this.element.removeEventListener("mouseleave",this.handleEvent.bind(this)),this.element.removeEventListener("touchend",this.handleEvent.bind(this))}handleEvent(t){switch(t.type){case"mousedown":case"touchstart":this.startDrag(t);break;case"mousemove":case"touchmove":this.drag(t);break;case"mouseup":case"mouseleave":case"touchend":this.endDrag(t);break;default:console.log(`${t.type}.`)}}startDrag(t){this.dragging=!0,this.initDragging(),this.delta=[parseInt(this.unify(t).clientX,10),parseInt(this.unify(t).clientY,10)],this.emitSwipeEvents("dragStart",this.delta,t.target)}endDrag(t){this.cancelDragging();const e=parseInt(this.unify(t).clientX,10),s=parseInt(this.unify(t).clientY,10);if(this.delta&&(this.delta[0]||this.delta[0]===0)){const i=Ft(e-this.delta[0]);Math.abs(e-this.delta[0])>30&&(i<0?this.emitSwipeEvents("swipeLeft",[e,s]):this.emitSwipeEvents("swipeRight",[e,s])),this.delta[0]=!1}if(this.delta&&(this.delta[1]||this.delta[1]===0)){const i=Ft(s-this.delta[1]);Math.abs(s-this.delta[1])>30&&(i<0?this.emitSwipeEvents("swipeUp",[e,s]):this.emitSwipeEvents("swipeDown",[e,s])),this.delta[1]=!1}this.emitSwipeEvents("dragEnd",[e,s]),this.dragging=!1}drag(t){this.dragging&&(window.requestAnimationFrame?this.intervalId=window.requestAnimationFrame(()=>{this.emitDrag(t)}):this.intervalId=setTimeout(()=>{this.emitDrag(t)},250))}unify(t){return this.changedTouches=t.changedTouches,this.changedTouches?this.changedTouches[0]:t}emitDrag(t){this.emitSwipeEvents("dragging",[parseInt(this.unify(t).clientX,10),parseInt(this.unify(t).clientY,10)])}emitSwipeEvents(t,e,s){let i=!1;s&&(i=s);const o=new CustomEvent(t,{detail:{x:e[0],y:e[1],origin:i}});this.element.dispatchEvent(o)}}class Mt extends we{constructor(t){super(t),this.element=t,this.containerClass="nsw-carousel-container",this.controlClass="js-carousel__control",this.wrapperClass="js-carousel__wrapper",this.counterClass="js-carousel__counter",this.counterTorClass="js-carousel__counter-tot",this.navClass="js-carousel__navigation",this.navItemClass="js-carousel__nav-item",this.navigationItemClass=this.element.getAttribute("data-navigation-item-class")?this.element.getAttribute("data-navigation-item-class"):"nsw-carousel__nav-item",this.navigationClass=this.element.getAttribute("data-navigation-class")?this.element.getAttribute("data-navigation-class"):"nsw-carousel__navigation",this.paginationClass=this.element.getAttribute("data-pagination-class")?this.element.getAttribute("data-pagination-class"):"nsw-carousel__navigation--pagination",this.draggingClass="nsw-carousel--is-dragging",this.loadedClass="nsw-carousel--loaded",this.animateClass="nsw-carousel__list--animating",this.cloneClass="js-clone",this.srClass="sr-only",this.srLiveAreaClass="js-carousel__aria-live",this.hideControlsClass="nsw-carousel--hide-controls",this.hideClass="nsw-display-none",this.centerClass="nsw-justify-content-center",this.listWrapper=this.element.querySelector(`.${this.wrapperClass}`),this.list=this.listWrapper?this.listWrapper.querySelector("ol"):!1,this.items=this.list?this.list.getElementsByTagName("li"):!1,this.controls=this.element.querySelectorAll(`.${this.controlClass}`),this.counter=this.element.querySelectorAll(`.${this.counterClass}`),this.counterTor=this.element.querySelectorAll(`.${this.counterTorClass}`),this.ariaLabel=this.element.getAttribute("data-description")?this.element.getAttribute("data-description"):"Card carousel",this.dragEnabled=!!(this.element.getAttribute("data-drag")&&this.element.getAttribute("data-drag")==="on"),this.loop=!!(this.element.getAttribute("data-loop")&&this.element.getAttribute("data-loop")==="on"),this.nav=!(this.element.getAttribute("data-navigation")&&this.element.getAttribute("data-navigation")==="off"),this.navigationPagination=!!(this.element.getAttribute("data-navigation-pagination")&&this.element.getAttribute("data-navigation-pagination")==="on"),this.justifyContent=!!(this.element.getAttribute("data-justify-content")&&this.element.getAttribute("data-justify-content")==="on"),this.initItems=[],this.itemsNb=this.items.length,this.visibItemsNb=1,this.itemsWidth=1,this.itemOriginalWidth=!1,this.selectedItem=0,this.translateContainer=0,this.containerWidth=0,this.animating=!1,this.dragStart=!1,this.resizeId=!1,this.cloneList=[],this.itemAutoSize=!1,this.totTranslate=0,this.nav&&(this.loop=!1),this.flexSupported=CSS.supports("align-items","stretch"),this.transitionSupported=CSS.supports("transition","transform"),this.cssPropertiesSupported="CSS"in window&&CSS.supports("color","var(--color-var)")}init(){this.items&&(this.initCarouselLayout(),this.setItemsWidth(!0),this.insertBefore(this.visibItemsNb),this.updateCarouselClones(),this.resetItemsTabIndex(),this.initAriaLive(),this.initCarouselEvents(),this.initCarouselCounter())}initCarouselLayout(){this.element.classList.add(this.loadedClass),this.element.setAttribute("aria-roledescription","carousel"),this.element.setAttribute("aria-label",this.ariaLabel);const t=Array.from(this.items);t.forEach((r,c)=>{r.setAttribute("aria-roledescription","slide"),r.setAttribute("aria-label",`${c+1} of ${t.length}`),r.setAttribute("data-index",c)}),this.carouselCreateContainer();const e=this.items&&window.getComputedStyle(this.items[0]),s=this.listWrapper&&window.getComputedStyle(this.listWrapper);let i=e?parseFloat(e.getPropertyValue("width")):0;const o=e?parseFloat(e.getPropertyValue("margin-right")):0,a=s?parseFloat(s.getPropertyValue("padding-left")):0;let l=s?parseFloat(s.getPropertyValue("width")):0;this.itemAutoSize||(this.itemAutoSize=i),l=this.getCarouselWidth(l),this.itemOriginalWidth?i=this.itemOriginalWidth:this.itemOriginalWidth=i,this.itemAutoSize&&(this.itemOriginalWidth=parseInt(this.itemAutoSize,10),i=this.itemOriginalWidth),l<i&&(this.itemOriginalWidth=l,i=this.itemOriginalWidth),this.visibItemsNb=parseInt((l-2*a+o)/(i+o),10),this.itemsWidth=parseFloat(((l-2*a+o)/this.visibItemsNb-o).toFixed(1)),this.containerWidth=(this.itemsWidth+o)*this.items.length,this.translateContainer=0-(this.itemsWidth+o)*this.visibItemsNb,this.flexSupported||(this.list.style.width=`${(this.itemsWidth+o)*this.visibItemsNb*3}px`),this.totTranslate=0-this.selectedItem*(this.itemsWidth+o),this.items.length<=this.visibItemsNb&&(this.totTranslate=0),this.centerItems()}carouselCreateContainer(){if(!this.element.parentElement.classList.contains(this.containerClass)){const t=document.createElement("div");t.classList.add(this.containerClass),this.element.parentNode.insertBefore(t,this.element),t.appendChild(this.element)}}setItemsWidth(t){for(let e=0;e<this.items.length;e+=1)this.items[e].style.width=`${this.itemsWidth}px`,t&&this.initItems.push(this.items[e])}updateCarouselClones(){this.loop&&(this.items.length<this.visibItemsNb*3?this.insertAfter(this.visibItemsNb*3-this.items.length,this.items.length-this.visibItemsNb*2):this.items.length>this.visibItemsNb*3&&this.removeClones(this.visibItemsNb*3,this.items.length-this.visibItemsNb*3),this.setTranslate(`translateX(${this.translateContainer}px)`))}initCarouselEvents(){this.nav&&(this.carouselCreateNavigation(),this.carouselInitNavigationEvents()),this.controls.length>0&&(this.controls[0].addEventListener("click",e=>{e.preventDefault(),this.showPrevItems(),this.updateAriaLive()}),this.controls[1].addEventListener("click",e=>{e.preventDefault(),this.showNextItems(),this.updateAriaLive()}),this.resetCarouselControls(),this.emitCarouselActiveItemsEvent()),this.dragEnabled&&window.requestAnimationFrame&&(super.init(),this.element.addEventListener("dragStart",e=>{e.detail.origin&&e.detail.origin.closest(`.${this.controlClass}`)||e.detail.origin&&e.detail.origin.closest(`.${this.navClass}`)||e.detail.origin&&!e.detail.origin.closest(`.${this.wrapperClass}`)||(this.element.classList.add(this.draggingClass),this.dragStart=e.detail.x,this.animateDragEnd())}),this.element.addEventListener("dragging",e=>{if(!this.dragStart||this.animating||Math.abs(e.detail.x-this.dragStart)<10)return;let s=e.detail.x-this.dragStart+this.translateContainer;this.loop||(s=e.detail.x-this.dragStart+this.totTranslate),this.setTranslate(`translateX(${s}px)`)})),window.addEventListener("resize",()=>{clearTimeout(this.resizeId),this.resizeId=setTimeout(()=>{this.resetCarouselResize(),this.resetDotsNavigation(),this.resetCarouselControls(),this.setCounterItem(),this.centerItems(),this.emitCarouselActiveItemsEvent()},250)}),this.element.addEventListener("keydown",e=>{e.key&&e.key.toLowerCase()==="arrowright"?this.showNextItems():e.key&&e.key.toLowerCase()==="arrowleft"?this.showPrevItems():e.key&&e.key.toLowerCase()==="home"?this.showPrevItems():e.key&&e.key.toLowerCase()==="end"?this.showNextItems():e.key&&e.key.toLowerCase()==="enter"&&(e.preventDefault(),e.target.click())});const t=this.element.querySelectorAll(".nsw-carousel__item a");t.length>0&&t.forEach((e,s)=>{e.addEventListener("focus",()=>{e.closest(".js-carousel__wrapper").querySelector(".nsw-carousel__list")&&e.focus({preventScroll:!0})}),e.addEventListener("focusout",()=>{const i=e.closest(".nsw-carousel__item"),o=Number(i.getAttribute("data-index"))+1;o%this.visibItemsNb===0&&o!==this.items.length&&(t[s+1].focus({preventScroll:!0}),this.showNextItems())})})}showPrevItems(){this.animating||(this.animating=!0,this.selectedItem=this.getIndex(this.selectedItem-this.visibItemsNb),this.animateList("0","prev"))}showNextItems(){this.animating||(this.animating=!0,this.selectedItem=this.getIndex(this.selectedItem+this.visibItemsNb),this.animateList(`${this.translateContainer*2}px`,"next"))}animateDragEnd(){const t=e=>{if(this.element.removeEventListener("dragEnd",t),this.element.classList.remove(this.draggingClass),e.detail.x-this.dragStart<-40)this.animating=!1,this.showNextItems();else if(e.detail.x-this.dragStart>40)this.animating=!1,this.showPrevItems();else{if(e.detail.x-this.dragStart===0)return;this.animating=!0,this.animateList(`${this.translateContainer}px`,!1)}this.dragStart=!1};this.element.addEventListener("dragEnd",t)}animateList(t,e){let s=t;this.list.classList.add(this.animateClass);const i=this.totTranslate;if(this.loop||(s=this.noLoopTranslateValue(e)),setTimeout(()=>{this.setTranslate(`translateX(${s})`)}),this.transitionSupported){const o=a=>{a.propertyName&&a.propertyName!=="transform"||(this.list&&(this.list.classList.remove(this.animateClass),this.list.removeEventListener("transitionend",o)),this.animateListCb(e))};this.list.addEventListener("transitionend",o)}else this.animateListCb(e);!this.loop&&i===this.totTranslate&&this.list.dispatchEvent(new CustomEvent("transitionend")),this.resetCarouselControls(),this.setCounterItem(),this.emitCarouselActiveItemsEvent()}noLoopTranslateValue(t){let e=this.totTranslate;return t==="next"?e=this.totTranslate+this.translateContainer:t==="prev"?e=this.totTranslate-this.translateContainer:t==="click"&&(e=this.selectedDotIndex*this.translateContainer),e>0&&(e=0,this.selectedItem=0),e<-this.translateContainer-this.containerWidth&&(e=-this.translateContainer-this.containerWidth,this.selectedItem=this.items.length-this.visibItemsNb),this.visibItemsNb>this.items.length&&(e=0),this.totTranslate=e,`${e}px`}animateListCb(t){t&&this.updateClones(t),this.animating=!1,this.resetItemsTabIndex()}updateClones(t){if(!this.loop)return;const e=t==="next"?0:this.items.length-this.visibItemsNb;this.removeClones(e,!1),t==="next"?this.insertAfter(this.visibItemsNb,0):this.insertBefore(this.visibItemsNb),this.setTranslate(`translateX(${this.translateContainer}px)`)}insertBefore(t,e){if(!this.loop)return;const s=document.createDocumentFragment();let i=0;e&&(i=e);for(let o=i;o<t;o+=1){const a=this.getIndex(this.selectedItem-o-1),l=this.initItems[a].cloneNode(!0);l.classList.add(this.cloneClass),s.insertBefore(l,s.firstChild)}this.list.insertBefore(s,this.list.firstChild),this.emitCarouselUpdateEvent()}insertAfter(t,e){if(!this.loop)return;const s=document.createDocumentFragment();for(let i=e;i<t+e;i+=1){const o=this.getIndex(this.selectedItem+this.visibItemsNb+i),a=this.initItems[o].cloneNode(!0);a.classList.add(this.cloneClass),s.appendChild(a)}this.list.appendChild(s),this.emitCarouselUpdateEvent()}removeClones(t,e){let s=e;if(this.loop){e||(s=this.visibItemsNb);for(let i=0;i<s;i+=1)this.items[t]&&this.list.removeChild(this.items[t])}}resetCarouselResize(){const t=this.visibItemsNb;if(this.resetItemAutoSize(),this.initCarouselLayout(),this.setItemsWidth(!1),this.resetItemsWidth(),this.loop)t>this.visibItemsNb?this.removeClones(0,t-this.visibItemsNb):t<this.visibItemsNb&&this.insertBefore(this.visibItemsNb,t),this.updateCarouselClones();else{const e=this.noLoopTranslateValue();this.setTranslate(`translateX(${e})`)}this.resetItemsTabIndex()}resetItemAutoSize(){this.cssPropertiesSupported&&(this.items[0].removeAttribute("style"),this.itemAutoSize=getComputedStyle(this.items[0]).getPropertyValue("width"))}resetItemsWidth(){this.initItems.forEach(t=>{const e=t;e.style.width=`${this.itemsWidth}px`})}resetItemsTabIndex(){const t=this.items.length>this.visibItemsNb;let e=this.items.length;for(let s=0;s<this.items.length;s+=1)this.loop?s<this.visibItemsNb||s>=2*this.visibItemsNb?(this.items[s].setAttribute("tabindex","-1"),this.items[s].setAttribute("aria-hidden","true"),this.items[s].removeAttribute("aria-current")):(s<e&&(e=s),this.items[s].removeAttribute("tabindex"),this.items[s].removeAttribute("aria-hidden"),this.items[s].setAttribute("aria-current","true")):(s<this.selectedItem||s>=this.selectedItem+this.visibItemsNb)&&t?(this.items[s].setAttribute("tabindex","-1"),this.items[s].setAttribute("aria-hidden","true"),this.items[s].removeAttribute("aria-current")):(s<e&&(e=s),this.items[s].removeAttribute("tabindex"),this.items[s].removeAttribute("aria-hidden"),this.items[s].setAttribute("aria-current","true"));this.resetVisibilityOverflowItems(e)}initAriaLive(){const t=document.createElement("div");t.setAttribute("class",`${this.srClass} ${this.srLiveAreaClass}`),t.setAttribute("aria-live","polite"),t.setAttribute("aria-atomic","true"),this.element.appendChild(t),this.ariaLive=t}updateAriaLive(){this.ariaLive.innerHTML=`Item ${this.selectedItem+1} selected. ${this.visibItemsNb} items of ${this.initItems.length} visible`}getIndex(t){let e=t;return e<0&&(e=this.getPositiveValue(e,this.itemsNb)),e>=this.itemsNb&&(e%=this.itemsNb),e}getPositiveValue(t,e){let s=t;return s+=e,s>0?s:this.getPositiveValue(s,e)}setTranslate(t){this.list.style.transform=t,this.list.style.msTransform=t}getCarouselWidth(t){let e=t;const s=this.listWrapper.closest(`.${this.srClass}`);return s?(s.classList.remove(this.srClass),e=this.listWrapper.offsetWidth,s.classList.add(this.srClass)):Number.isNaN(e)&&(e=this.getHiddenParentWidth(this.element)),e}getHiddenParentWidth(t){const e=t.parentElement;if(e.tagName.toLowerCase()==="html")return 0;const s=window.getComputedStyle(e);if(s.display==="none"||s.visibility==="hidden"){e.setAttribute("style","display: block!important; visibility: visible!important;");const i=this.listWrapper.offsetWidth;return e.style.display="",e.style.visibility="",i}return this.getHiddenParentWidth(e)}resetCarouselControls(){if(!this.loop){if(this.controls.length>0&&(this.totTranslate===0?this.controls[0].setAttribute("disabled",!0):this.controls[0].removeAttribute("disabled"),this.totTranslate===-this.translateContainer-this.containerWidth||this.items.length<=this.visibItemsNb?this.controls[1].setAttribute("disabled",!0):this.controls[1].removeAttribute("disabled")),this.nav){const t=this.navigation.querySelectorAll(`.${this.navigationItemClass}--selected`);t.length>0&&t[0].classList.remove(`${this.navigationItemClass}--selected`);let e=this.getSelectedDot();this.totTranslate===-this.translateContainer-this.containerWidth&&(e=this.navDots.length-1),this.navDots[e].classList.add(`${this.navigationItemClass}--selected`)}this.totTranslate===0&&(this.totTranslate===-this.translateContainer-this.containerWidth||this.items.length<=this.visibItemsNb)?this.element.classList.add(this.hideControlsClass):this.element.classList.remove(this.hideControlsClass)}}emitCarouselUpdateEvent(){this.cloneList=[],this.element.querySelectorAll(`.${this.cloneClass}`).forEach(e=>{e.classList.remove(this.cloneClass),this.cloneList.push(e)}),this.emitCarouselEvents("carousel-updated",this.cloneList)}carouselCreateNavigation(){if(this.element.querySelectorAll(`.${this.navClass}`).length>0)return;const t=document.createElement("ol");let e="",s="";this.navigationPagination?s=`${this.navigationClass} ${this.paginationClass} ${this.navClass}`:s=`${this.navigationClass} ${this.navClass}`,this.items.length<=this.visibItemsNb&&(s+=` ${this.hideClass}`),t.setAttribute("class",s);const i=Math.ceil(this.items.length/this.visibItemsNb),o=this.getSelectedDot(),a=this.navigationPagination?"":this.srClass;for(let l=0;l<i;l+=1){const r=l===o?`class="${this.navigationItemClass} ${this.navigationItemClass}--selected ${this.navItemClass}"`:`class="${this.navigationItemClass} ${this.navItemClass}"`;e=`${e}<li ${r}><button><span class="${a}">${l+1}</span></button></li>`}t.innerHTML=e,this.element.appendChild(t)}carouselInitNavigationEvents(){this.navigation=this.element.querySelector(`.${this.navClass}`),this.navDots=this.element.querySelectorAll(`.${this.navItemClass}`),this.navIdEvent=this.carouselNavigationClick.bind(this),this.navigation.addEventListener("click",this.navIdEvent)}carouselRemoveNavigation(){this.navigation&&this.element.removeChild(this.navigation),this.navIdEvent&&this.navigation.removeEventListener("click",this.navIdEvent)}resetDotsNavigation(){this.nav&&(this.carouselRemoveNavigation(),this.carouselCreateNavigation(),this.carouselInitNavigationEvents())}carouselNavigationClick(t){const e=t.target.closest(`.${this.navItemClass}`);if(!e||this.animating)return;this.animating=!0;const s=Array.from(this.navDots).indexOf(e);this.selectedDotIndex=s,this.selectedItem=s*this.visibItemsNb,this.animateList(!1,"click")}getSelectedDot(){return Math.ceil(this.selectedItem/this.visibItemsNb)}initCarouselCounter(){this.counterTor.length>0&&(this.counterTor[0].textContent=this.itemsNb),this.setCounterItem()}setCounterItem(){if(this.counter.length===0)return;let t=this.selectedItem+this.visibItemsNb;t>this.items.length&&(t=this.items.length),this.counter[0].textContent=t}centerItems(){this.justifyContent&&this.list.classList.toggle(this.centerClass,this.items.length<this.visibItemsNb)}emitCarouselActiveItemsEvent(){this.emitCarouselEvents("carousel-active-items",{firstSelectedItem:this.selectedItem,visibleItemsNb:this.visibItemsNb})}emitCarouselEvents(t,e){const s=new CustomEvent(t,{detail:e});this.element.dispatchEvent(s)}resetVisibilityOverflowItems(t){const e=this.containerWidth/this.items.length,s=(window.innerWidth-e*this.visibItemsNb)/2,i=Math.ceil(s/e);for(let o=0;o<i;o+=1){const a=t-1-o;a>=0&&this.items[a].removeAttribute("tabindex");const l=t+this.visibItemsNb+o;l<this.items.length&&this.items[l].removeAttribute("tabindex")}}}class Ot{constructor(t){this.element=t,this.elementWrapper=this.element.querySelector(".nsw-dialog__wrapper"),this.openBtn=document.querySelectorAll(`.js-open-dialog-${this.element.getAttribute("id")}`),this.closeBtn=this.element.querySelectorAll(".js-close-dialog"),this.focusableEls=this.element.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])'),this.body=document.body,this.openEvent=this.openDialog.bind(this),this.closeEvent=this.closeDialog.bind(this),this.clickEvent=this.clickDialog.bind(this),this.trapEvent=this.trapFocus.bind(this)}init(){this.controls()}controls(){this.elementWrapper&&(this.openBtn.forEach(t=>{t.addEventListener("click",this.openEvent,!1)}),this.closeBtn.forEach(t=>{t.addEventListener("click",this.closeEvent,!1)}),this.element.classList.contains("js-dialog-dismiss")&&this.element.addEventListener("click",this.clickEvent,!1),this.focusableEls.length>0&&this.focusableEls[this.focusableEls.length-1].addEventListener("blur",this.trapEvent,!1))}openDialog(){this.element.setAttribute("aria-expanded","true"),this.element.classList.add("active"),this.body.classList.add("dialog-active"),this.focusableEls.length>0&&this.focusableEls[0].focus()}closeDialog(){this.element.setAttribute("aria-expanded","false"),this.element.classList.remove("active"),this.body.classList.remove("dialog-active")}clickDialog(t){this.elementWrapper.contains(t.target)||this.closeDialog()}trapFocus(t){t.preventDefault(),this.focusableEls.length>0&&this.focusableEls[0].focus()}}class Bt{constructor(t){this.element=t,this.uID=U("external"),this.linkIcon=this.element.querySelector(".nsw-material-icons"),this.linkIconTitle=this.linkIcon?this.linkIcon.getAttribute("title"):!1,this.linkElement=!1}init(){this.element.tagName==="A"&&(this.element.classList.add("nsw-link","nsw-link--icon"),this.constructor.setAttributes(this.element,{target:"_blank",rel:"noopener"}),this.linkIcon&&this.constructor.setAttributes(this.linkIcon,{focusable:"false","aria-hidden":"true"}),this.linkIconTitle&&this.createElement(this.linkIconTitle))}createElement(t){t&&(this.linkElement=document.createElement("span"),this.linkElement.id=this.uID,this.linkElement.classList.add("sr-only"),this.linkElement.innerText=t,this.element.insertAdjacentElement("afterend",this.linkElement),this.constructor.setAttributes(this.element,{"aria-describedby":this.uID}))}static setAttributes(t,e){Object.keys(e).forEach(s=>t.setAttribute(s,e[s]))}}class jt{constructor(t){this.element=t,this.input=this.element.querySelector("input.nsw-file-upload__input"),this.label=this.element.querySelector("label.nsw-file-upload__label"),this.multipleUpload=this.input&&this.input.hasAttribute("multiple"),this.replaceFiles=this.element.hasAttribute("data-replace-files"),this.filesList=null}init(){if(this.input){if(!this.label){const t=document.createElement("label");t.htmlFor=this.input.id,t.classList.add("nsw-file-upload__label","nsw-button","nsw-button--dark-outline-solid"),t.textContent="Select file",this.element.insertAdjacentElement("beforeend",t),this.label=this.element.querySelector("label.nsw-file-upload__label")}this.input.addEventListener("change",this.handleInputChange.bind(this))}}handleInputChange(){this.input.value!==""&&this.updateFileList()}createFileList(){const t=document.createElement("ul");t.classList.add("nsw-file-upload__list"),this.label.insertAdjacentElement("afterend",t),this.filesList=this.element.querySelector(".nsw-file-upload__list")}createFileItem(t){const e=document.createElement("li");return e.classList.add("nsw-file-upload__item"),e.insertAdjacentHTML("afterbegin",`
      <span class="nsw-file-upload__item-filename"></span>
      <button type="button" class="nsw-icon-button">
        <span class="sr-only">Remove file</span>
        <span class="material-icons nsw-material-icons" focusable="false" aria-hidden="true">cancel</span>
      </button>`),e.querySelector(".nsw-file-upload__item-filename").textContent=this.constructor.truncateString(t.name,50),e.outerHTML}updateFileList(){this.filesList||this.createFileList(),this.filesList.classList.add("active");const t=new DataTransfer;for(let s=0;s<this.input.files.length;s+=1){const i=this.input.files[s];t.items.add(i)}this.currentFiles=t;let e="";for(let s=0;s<this.input.files.length;s+=1){const i=this.input.files[s];e=this.createFileItem(i)+e}this.replaceFiles?this.filesList.innerHTML=e:this.filesList.insertAdjacentHTML("beforeend",e),this.input.files=this.currentFiles.files,this.removeFile()}removeFile(){this.filesList.addEventListener("click",this.handleFileRemove.bind(this))}handleFileRemove(t){if(!t.target.closest(".nsw-icon-button"))return;t.preventDefault();const e=t.target.closest(".nsw-file-upload__item"),s=e.querySelector(".nsw-file-upload__item-filename").textContent,i=new DataTransfer;for(let o=0;o<this.currentFiles.files.length;o+=1){const a=this.currentFiles.files[o];a.name!==s&&i.items.add(a)}this.currentFiles=i,this.input.files=this.currentFiles.files,e.remove(),this.filesList.children.length===0&&this.filesList.classList.remove("active")}static truncateString(t,e){return t.length<=e?t:`${t.slice(0,e)}...`}}class qt{constructor(t){this.element=t,this.hideClass="nsw-display-none",this.showClass="active",this.openClass="filters-open",this.prefix="nsw-",this.class="filters",this.controlsClass=`${this.class}__controls`,this.wrapperClass=`${this.class}__wrapper`,this.listClass=`${this.class}__list`,this.itemClass=`${this.class}__item`,this.resetClass=`${this.class}__cancel`,this.submitClass=`${this.class}__accept`,this.closeClass=`${this.class}__back`,this.countClass=`${this.class}__count`,this.allClass=`${this.class}__all`,this.moreClass=`${this.class}__more`,this.count=this.element.querySelector(`.js-${this.countClass}`),this.controls=this.element.querySelector(`.${this.prefix}${this.controlsClass}`),this.controlsButton=this.controls&&this.controls.querySelector("button"),this.controlsButtonIcons=this.controlsButton&&this.controlsButton.querySelectorAll("span"),this.controlsButtonText=this.controlsButton&&this.controlsButton.querySelector("span:not(.nsw-material-icons)"),this.controlsButtonTextContent=this.controlsButton&&this.controlsButtonText.innerText,this.wrapper=this.element.querySelector(`.${this.prefix}${this.wrapperClass}`),this.closeButton=this.wrapper&&this.wrapper.querySelector(`.${this.prefix}${this.closeClass} button`),this.submitButton=this.wrapper&&this.wrapper.querySelector(`.${this.prefix}${this.submitClass} button`),this.resetButton=this.wrapper&&this.wrapper.querySelector(`.${this.prefix}${this.resetClass} button`),this.items=this.wrapper&&this.wrapper.querySelectorAll(`.${this.prefix}${this.itemClass}`),this.accordionButtons=this.wrapper&&this.wrapper.querySelectorAll(`.${this.prefix}${this.itemClass}-button`),this.showMoreContent=this.element.querySelectorAll(`.${this.prefix}${this.allClass}`),this.showMoreButtons=this.element.querySelectorAll(`.${this.prefix}${this.moreClass}`),this.focusableElements='a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])',this.selectedOption=this.element.querySelector("option[selected]"),this.buttons=[],this.content=[],this.options=[],this.selected=[]}init(){this.element.classList.add("ready"),this.accordionButtons&&this.accordionButtons.forEach(t=>{const e=t,s=U("collapsed");e.setAttribute("type","button"),e.setAttribute("aria-expanded","false"),e.setAttribute("aria-controls",s);const i=e.querySelector(`.${this.prefix}${this.itemClass}-name`);e.setAttribute("data-label",i.innerText);const o=e.nextElementSibling;o.id=e.getAttribute("aria-controls"),o.hidden=!0,this.content.push(o),this.buttons.push(e)}),this.updateDom(),this.initEvents()}initEvents(){document.addEventListener("DOMContentLoaded",()=>{this.updateDom()}),this.options&&this.options.forEach(t=>{t.addEventListener("change",()=>{this.updateDom()})}),this.controlsButton&&this.controlsButton.addEventListener("click",t=>{this.showFilters(t)}),this.submitButton&&(this.submitButton.disabled=!0),this.closeButton&&this.closeButton.addEventListener("click",t=>{this.closeFilters(t)}),this.buttons&&this.buttons.forEach(t=>{t.addEventListener("click",e=>{this.toggleAccordion(e)})}),this.resetButton&&(this.resetButton.addEventListener("click",t=>{this.clearAll(t)}),this.resetButton.addEventListener("change",t=>{this.clearAll(t)})),this.showMoreButtons&&this.showMoreButtons.forEach((t,e)=>{t.addEventListener("click",s=>{this.showMore(s,e)})})}setAccordionState(t,e){const s=this.getTargetContent(t),i=s.querySelector(this.focusableElements);e==="open"?(t.classList.add(this.showClass),t.setAttribute("aria-expanded","true"),s.hidden=!1,this.constructor.moveFocusFn(i)):e==="close"&&(t.classList.remove(this.showClass),t.setAttribute("aria-expanded","false"),s.hidden=!0)}toggleAccordion(t){const{currentTarget:e}=t;this.getTargetContent(e).hidden?this.setAccordionState(e,"open"):this.setAccordionState(e,"close")}getTargetContent(t){const e=this.buttons.indexOf(t);return this.content[e]}toggleSubmit(t){this.submitButton&&(t.length>0?this.submitButton.disabled=!1:this.submitButton.disabled=!0)}showMore(t,e){t.preventDefault();const s=this.showMoreContent[e].querySelector(this.focusableElements);this.showMoreContent[e].classList.remove(this.hideClass),t.target.classList.add(this.hideClass),this.constructor.moveFocusFn(s)}closeFilters(t){t.preventDefault(),this.element.classList.remove(this.showClass),document.body.classList.remove(this.openClass)}showFilters(t){t.preventDefault(),this.element.classList.contains("nsw-filters--down")?this.element.classList.toggle(this.showClass):(this.trapFocus(this.wrapper),this.element.classList.add(this.showClass),document.body.classList.add(this.openClass))}clearAll(t){t.preventDefault();const e=new MouseEvent("change",{view:window,bubbles:!0,cancelable:!0}),s=this.element.querySelector(".js-multi-select"),i=s&&s.querySelector(".js-multi-select__all"),o=s&&s.querySelectorAll(".js-multi-select__option");this.options.length>0&&this.options.forEach(a=>{const l=a;l.type==="text"?l.value="":l.type==="select-one"?this.selectedOption?(console.log(Array.from(l.options).indexOf(this.selectedOption)),l.selectedIndex=Array.from(l.options).indexOf(this.selectedOption)):l.selectedIndex=0:l.type==="checkbox"?l.defaultChecked?l.checked=!0:l.checked=!1:l.parentElement.classList.contains("js-multi-select__option")||(l.value=!1)}),s&&(i.classList.remove(this.showClass),o.forEach(a=>{a.setAttribute("aria-selected","true"),a.dispatchEvent(new Event(e)),a.click()})),this.updateDom()}getOptions(){this.options=[],this.items&&this.items.forEach(t=>{const e=t.querySelector(`.${this.prefix}${this.itemClass}-content`),s=e.querySelectorAll('input[type="text"]'),i=e.querySelectorAll("select:not([multiple]):not(.nsw-display-none)"),o=e.querySelectorAll("select[multiple]:not(.nsw-display-none)"),a=e.querySelectorAll('input[type="checkbox"]');this.options.push(...s,...i,...a,...o)})}getSelected(){if(this.selected=[],this.options.length>0){const t=this.options.filter(a=>a.type==="select-one"&&a.value!==""),e=this.options.filter(a=>a.checked),s=this.options.filter(a=>a.type==="text"&&a.value!==""),i=this.options.filter(a=>a.type==="select-multiple"&&a.value!==""),o=this.constructor.getMultiSelectValues(i);this.selected=[...t,...e,...s,...o]}}selectedCount(t){if(!this.count)return;const e=t.filter(a=>a.closest(".nsw-form__date")),s=t.filter(a=>!a.closest(".nsw-form__date"));let i=`${this.controlsButtonTextContent}`,o="";e.length>0?o=` (${s.length+1})`:o=` (${t.length})`,e.length===0&&t.length===0?this.controlsButtonText.innerText=i:(i+=o,this.controlsButtonText.innerText=i)}setSelectedState(){const t='textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled]):not(.nsw-display-none)',e='<span class="material-icons nsw-material-icons nsw-material-icons--valid" focusable="false" aria-hidden="true">check_circle</span>';this.buttons.forEach(s=>{const i=s.querySelector(`.${this.prefix}${this.itemClass}-name`),o=s.getAttribute("data-label"),l=s.nextElementSibling.querySelectorAll(t),r=Array.from(l).filter(c=>c.type==="checkbox"||c.type==="radio"?c.checked:c.value!=="");r.length>0?(i.innerText=o,i.innerHTML=`${o} ${e}`):r.length===0&&(i.innerText=o)})}updateDom(){this.getOptions(),this.getSelected(),this.toggleSubmit(this.selected),this.selectedCount(this.selected),this.setSelectedState()}trapFocus(t){const e=t.querySelectorAll(this.focusableElements),s=e[0],i=e[e.length-1];document.addEventListener("keydown",o=>{(o.code&&o.code===9||o.key&&o.key==="Tab")&&(document.activeElement===s&&o.shiftKey&&(o.preventDefault(),i.focus()),document.activeElement===i&&!o.shiftKey&&(o.preventDefault(),s.focus()))}),s.focus()}static getMultiSelectValues(t){let e=[];return t.length>0&&t.forEach(s=>{e=Array.from(s.options).filter(i=>i.selected)}),e}static moveFocusFn(t){t.focus(),document.activeElement!==t&&(t.setAttribute("tabindex","-1"),t.focus())}}class Pt{constructor(t){this.element=t,this.closeButton=this.element.querySelector("button.js-close-alert"),this.cookieName=this.element.getAttribute("data-cookie-name")||!1}init(){if(this.cookieName&&this.constructor.getCookie(this.cookieName)){this.element.hidden=!0;return}this.closeButton&&this.controls()}controls(){this.closeButton.addEventListener("click",()=>{this.closeMessage()})}closeMessage(){this.element.hidden=!0,this.cookieName&&this.constructor.setCookie(this.cookieName,"dismissed",7)}static setCookie(t,e,s){const i=new Date;i.setTime(i.getTime()+s*24*60*60*1e3);const o=`expires=${i.toUTCString()}`;document.cookie=`${t}=${e};${o};path=/`}static getCookie(t){const e=`${t}=`,s=document.cookie.split(";");for(let i=0;i<s.length;i+=1){let o=s[i];for(;o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(e)===0)return o.substring(e.length,o.length)}return null}}class Wt{constructor(t){this.nav=t,this.navID=this.nav.id,this.openNavButton=document.querySelector(".js-open-nav"),this.closeNavButtons=this.nav.querySelectorAll(".js-close-nav"),this.closeSubNavButtons=this.nav.querySelectorAll(".js-close-sub-nav"),this.isMegaMenuElement=this.nav.classList.contains("js-mega-menu"),this.mainNavIsOpen=!1,this.transitionEvent=be(),this.mobileShowMainTransitionEndEvent=e=>this.mobileShowMainNav(e),this.mobileHideMainTransitionEndEvent=e=>this.mobileHideMainNav(e),this.showSubNavTransitionEndEvent=e=>this.showSubNav(e),this.mobileTrapTabKeyEvent=e=>this.mobileMainNavTrapTabs(e),this.mobileSubNavTrapTabKeyEvent=e=>this.trapkeyEventStuff(e),this.desktopButtonClickEvent=e=>this.buttonClickDesktop(e),this.desktopButtonKeydownEvent=e=>this.buttonKeydownDesktop(e),this.checkFocusEvent=e=>this.checkIfContainsFocus(e),this.openSubNavElements=[],this.breakpoint=window.matchMedia("(min-width: 62em)")}init(){this.initEvents(),this.responsiveCheck(this.breakpoint),this.nav&&this.breakpoint.addEventListener("change",t=>this.responsiveCheck(t))}initEvents(){this.isMegaMenuElement&&(document.addEventListener("click",this.handleOutsideClick.bind(this),!1),document.addEventListener("keydown",this.escapeClose.bind(this),!1)),this.openNavButton&&this.openNavButton.addEventListener("click",this.mobileToggleMainNav.bind(this),!1),this.closeNavButtons.forEach(t=>{t.addEventListener("click",this.mobileToggleMainNav.bind(this),!1)}),this.closeSubNavButtons.forEach(t=>{t.addEventListener("click",this.closeSubNav.bind(this),!1)})}responsiveCheck(t){let e=[];t.matches?(e=[].slice.call(this.nav.querySelectorAll("ul > li")),document.body.classList.remove("main-nav-active")):e=[].slice.call(this.nav.querySelectorAll("li")),this.tearDownNavControls(),this.setUpNavControls(e)}handleOutsideClick(t){if(this.nav.closest(".nsw-docs")||!this.mainNavIsOpen)return;!this.nav.contains(t.target)&&this.toggleSubNavDesktop(!0)}tearDownNavControls(){this.isMegaMenuElement&&[].slice.call(this.nav.querySelectorAll("li")).forEach(e=>{const s=e.querySelector("[id^=sub-nav-]"),i=e.querySelector("a");s&&(i.removeAttribute("role"),i.removeAttribute("aria-expanded"),i.removeAttribute("aria-controls"),i.removeEventListener("click",this.desktopButtonClickEvent,!1),i.removeEventListener("keydown",this.desktopButtonKeydownEvent,!1))})}setUpNavControls(t){this.isMegaMenuElement&&t.forEach(e=>{const s=e.querySelector("[id^=sub-nav-]"),i=e.querySelector("a");s&&(i.setAttribute("role","button"),i.setAttribute("aria-expanded","false"),i.setAttribute("aria-controls",s.id),i.addEventListener("click",this.desktopButtonClickEvent,!1),i.addEventListener("keydown",this.desktopButtonKeydownEvent,!1))})}mobileMainNavTrapTabs(t){const e=at(this.navID,["> div button","> ul > li > a"]);$t(t,e)}mobileShowMainNav(t){let{propertyName:e}=t;e==="transform"&&(at(this.navID,["> div button","> ul > li > a"]).all[1].focus(),this.nav.classList.add("active"),this.nav.classList.remove("activating"),this.nav.removeEventListener(this.transitionEvent,this.mobileShowMainTransitionEndEvent,!1),this.nav.addEventListener("keydown",this.mobileTrapTabKeyEvent,!1))}mobileHideMainNav(t){let{propertyName:e}=t;if(e==="transform"){for(this.nav.classList.remove("active"),this.nav.classList.remove("closing");this.openSubNavElements.length>0;){const{submenu:s}=this.whichSubNavLatest();s.removeEventListener("keydown",this.mobileSubNavTrapTabKeyEvent,!1),s.classList.remove("active"),s.classList.remove("closing"),this.openSubNavElements.pop()}this.nav.removeEventListener(this.transitionEvent,this.mobileHideMainTransitionEndEvent,!1),this.nav.removeEventListener("keydown",this.mobileTrapTabKeyEvent,!1)}}mobileToggleMainNav(t){const{currentTarget:e}=t;e.getAttribute("aria-expanded")==="true"?(document.body.classList.remove("main-nav-active"),this.openNavButton.focus(),this.nav.classList.add("closing"),this.nav.addEventListener(this.transitionEvent,this.mobileHideMainTransitionEndEvent,!1)):(document.body.classList.add("main-nav-active"),this.nav.classList.add("activating"),this.nav.addEventListener(this.transitionEvent,this.mobileShowMainTransitionEndEvent,!1))}buttonClickDesktop(t){(!this.breakpoint.matches||!t.target.closest(".nsw-main-nav__sub-nav"))&&(this.saveElements(t),this.toggleSubNavDesktop(),t.preventDefault())}buttonKeydownDesktop(t){(t.key===" "||t.key==="Enter"||t.key==="Spacebar")&&(this.saveElements(t),this.toggleSubNavDesktop(),t.preventDefault())}escapeClose(t){if(t.key==="Escape"){if(this.nav.closest(".nsw-docs"))return;const{link:e}=this.whichSubNavLatest();e.getAttribute("aria-expanded")==="true"&&(this.toggleSubNavDesktop(!0),t.preventDefault(),e.focus())}}saveElements(t){const{currentTarget:e}=t,s={submenu:document.getElementById(e.getAttribute("aria-controls")),link:e,linkParent:e.parentNode};this.openSubNavElements.push(s)}showSubNav(t){let{propertyName:e}=t;const{submenu:s}=this.whichSubNavLatest();e==="transform"&&(at(s.id,["> div button","> .nsw-main-nav__title a","> ul > li > a"]).all[2].focus(),s.removeEventListener(this.transitionEvent,this.showSubNavTransitionEndEvent,!1))}closeSubNav(){const{submenu:t,link:e}=this.whichSubNavLatest();this.breakpoint.matches?(e.setAttribute("aria-expanded",!1),e.classList.remove("active"),this.nav.removeEventListener("focus",this.checkFocusEvent,!0),this.nav.removeEventListener("click",this.checkFocusEvent,!0)):(e.focus(),t.removeEventListener("keydown",this.mobileSubNavTrapTabKeyEvent,!1)),t.classList.remove("active"),t.closest("ul").parentElement.classList.remove("no-scroll"),this.openSubNavElements.pop()}openSubNav(){const{submenu:t,link:e}=this.whichSubNavLatest();this.breakpoint.matches?(e.setAttribute("aria-expanded",!0),e.classList.add("active"),this.nav.addEventListener("focus",this.checkFocusEvent,!0),this.nav.addEventListener("click",this.checkFocusEvent,!0)):(t.addEventListener("keydown",this.mobileSubNavTrapTabKeyEvent,!1),t.addEventListener(this.transitionEvent,this.showSubNavTransitionEndEvent,!1)),t.closest("ul").parentElement.scrollTop=0,t.closest("ul").parentElement.classList.add("no-scroll"),t.classList.add("active")}toggleSubNavDesktop(){const{link:t}=this.whichSubNavLatest();t.getAttribute("aria-expanded")==="true"?(this.mainNavIsOpen=!1,this.closeSubNav()):(this.mainNavIsOpen=!0,this.openSubNav())}checkIfContainsFocus(t){const{linkParent:e}=this.whichSubNavLatest(),s=e.contains(t.target),i=t.target.closest("a").getAttribute("role")==="button";!s&&i&&this.toggleSubNavDesktop()}whichSubNavLatest(){const t=this.openSubNavElements.length-1;return this.openSubNavElements[t]}trapkeyEventStuff(t){const{submenu:e}=this.whichSubNavLatest(),s=at(e.id,["> div button","> ul > li > a"]);$t(t,s)}}const J=Math.min,K=Math.max,lt=Math.round,T=n=>({x:n,y:n}),Ee={left:"right",right:"left",bottom:"top",top:"bottom"},Ce={start:"end",end:"start"};function pt(n,t,e){return K(n,J(t,e))}function q(n,t){return typeof n=="function"?n(t):n}function F(n){return n.split("-")[0]}function Q(n){return n.split("-")[1]}function ft(n){return n==="x"?"y":"x"}function mt(n){return n==="y"?"height":"width"}function P(n){return["top","bottom"].includes(F(n))?"y":"x"}function gt(n){return ft(P(n))}function xe(n,t,e){e===void 0&&(e=!1);const s=Q(n),i=gt(n),o=mt(i);let a=i==="x"?s===(e?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=rt(a)),[a,rt(a)]}function ke(n){const t=rt(n);return[bt(n),t,bt(t)]}function bt(n){return n.replace(/start|end/g,t=>Ce[t])}function Ae(n,t,e){const s=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(n){case"top":case"bottom":return e?t?i:s:t?s:i;case"left":case"right":return t?o:a;default:return[]}}function Le(n,t,e,s){const i=Q(n);let o=Ae(F(n),e==="start",s);return i&&(o=o.map(a=>a+"-"+i),t&&(o=o.concat(o.map(bt)))),o}function rt(n){return n.replace(/left|right|bottom|top/g,t=>Ee[t])}function Se(n){return{top:0,right:0,bottom:0,left:0,...n}}function Rt(n){return typeof n!="number"?Se(n):{top:n,right:n,bottom:n,left:n}}function ct(n){const{x:t,y:e,width:s,height:i}=n;return{width:s,height:i,top:e,left:t,right:t+s,bottom:e+i,x:t,y:e}}function Vt(n,t,e){let{reference:s,floating:i}=n;const o=P(t),a=gt(t),l=mt(a),r=F(t),c=o==="y",h=s.x+s.width/2-i.width/2,u=s.y+s.height/2-i.height/2,m=s[l]/2-i[l]/2;let p;switch(r){case"top":p={x:h,y:s.y-i.height};break;case"bottom":p={x:h,y:s.y+s.height};break;case"right":p={x:s.x+s.width,y:u};break;case"left":p={x:s.x-i.width,y:u};break;default:p={x:s.x,y:s.y}}switch(Q(t)){case"start":p[a]-=m*(e&&c?-1:1);break;case"end":p[a]+=m*(e&&c?-1:1);break}return p}const Te=async(n,t,e)=>{const{placement:s="bottom",strategy:i="absolute",middleware:o=[],platform:a}=e,l=o.filter(Boolean),r=await(a.isRTL==null?void 0:a.isRTL(t));let c=await a.getElementRects({reference:n,floating:t,strategy:i}),{x:h,y:u}=Vt(c,s,r),m=s,p={},f=0;for(let g=0;g<l.length;g++){const{name:b,fn:v}=l[g],{x:y,y:d,data:E,reset:w}=await v({x:h,y:u,initialPlacement:s,placement:m,strategy:i,middlewareData:p,rects:c,platform:a,elements:{reference:n,floating:t}});h=y??h,u=d??u,p={...p,[b]:{...p[b],...E}},w&&f<=50&&(f++,typeof w=="object"&&(w.placement&&(m=w.placement),w.rects&&(c=w.rects===!0?await a.getElementRects({reference:n,floating:t,strategy:i}):w.rects),{x:h,y:u}=Vt(c,m,r)),g=-1)}return{x:h,y:u,placement:m,strategy:i,middlewareData:p}};async function Ht(n,t){var e;t===void 0&&(t={});const{x:s,y:i,platform:o,rects:a,elements:l,strategy:r}=n,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:u="floating",altBoundary:m=!1,padding:p=0}=q(t,n),f=Rt(p),b=l[m?u==="floating"?"reference":"floating":u],v=ct(await o.getClippingRect({element:(e=await(o.isElement==null?void 0:o.isElement(b)))==null||e?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:c,rootBoundary:h,strategy:r})),y=u==="floating"?{x:s,y:i,width:a.floating.width,height:a.floating.height}:a.reference,d=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),E=await(o.isElement==null?void 0:o.isElement(d))?await(o.getScale==null?void 0:o.getScale(d))||{x:1,y:1}:{x:1,y:1},w=ct(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:d,strategy:r}):y);return{top:(v.top-w.top+f.top)/E.y,bottom:(w.bottom-v.bottom+f.bottom)/E.y,left:(v.left-w.left+f.left)/E.x,right:(w.right-v.right+f.right)/E.x}}const Ie=n=>({name:"arrow",options:n,async fn(t){const{x:e,y:s,placement:i,rects:o,platform:a,elements:l,middlewareData:r}=t,{element:c,padding:h=0}=q(n,t)||{};if(c==null)return{};const u=Rt(h),m={x:e,y:s},p=gt(i),f=mt(p),g=await a.getDimensions(c),b=p==="y",v=b?"top":"left",y=b?"bottom":"right",d=b?"clientHeight":"clientWidth",E=o.reference[f]+o.reference[p]-m[p]-o.floating[f],w=m[p]-o.reference[p],_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let W=_?_[d]:0;(!W||!await(a.isElement==null?void 0:a.isElement(_)))&&(W=l.floating[d]||o.floating[f]);const st=E/2-w/2,R=W/2-g[f]/2-1,O=J(u[v],R),it=J(u[y],R),V=O,nt=W-g[f]-it,k=W/2-g[f]/2+st,Z=pt(V,k,nt),N=!r.arrow&&Q(i)!=null&&k!==Z&&o.reference[f]/2-(k<V?O:it)-g[f]/2<0,$=N?k<V?k-V:k-nt:0;return{[p]:m[p]+$,data:{[p]:Z,centerOffset:k-Z-$,...N&&{alignmentOffset:$}},reset:N}}}),$e=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(t){var e,s;const{placement:i,middlewareData:o,rects:a,initialPlacement:l,platform:r,elements:c}=t,{mainAxis:h=!0,crossAxis:u=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:g=!0,...b}=q(n,t);if((e=o.arrow)!=null&&e.alignmentOffset)return{};const v=F(i),y=P(l),d=F(l)===l,E=await(r.isRTL==null?void 0:r.isRTL(c.floating)),w=m||(d||!g?[rt(l)]:ke(l)),_=f!=="none";!m&&_&&w.push(...Le(l,g,f,E));const W=[l,...w],st=await Ht(t,b),R=[];let O=((s=o.flip)==null?void 0:s.overflows)||[];if(h&&R.push(st[v]),u){const k=xe(i,a,E);R.push(st[k[0]],st[k[1]])}if(O=[...O,{placement:i,overflows:R}],!R.every(k=>k<=0)){var it,V;const k=(((it=o.flip)==null?void 0:it.index)||0)+1,Z=W[k];if(Z)return{data:{index:k,overflows:O},reset:{placement:Z}};let N=(V=O.filter($=>$.overflows[0]<=0).sort(($,B)=>$.overflows[1]-B.overflows[1])[0])==null?void 0:V.placement;if(!N)switch(p){case"bestFit":{var nt;const $=(nt=O.filter(B=>{if(_){const j=P(B.placement);return j===y||j==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(j=>j>0).reduce((j,Qe)=>j+Qe,0)]).sort((B,j)=>B[1]-j[1])[0])==null?void 0:nt[0];$&&(N=$);break}case"initialPlacement":N=l;break}if(i!==N)return{reset:{placement:N}}}return{}}}};async function De(n,t){const{placement:e,platform:s,elements:i}=n,o=await(s.isRTL==null?void 0:s.isRTL(i.floating)),a=F(e),l=Q(e),r=P(e)==="y",c=["left","top"].includes(a)?-1:1,h=o&&r?-1:1,u=q(t,n);let{mainAxis:m,crossAxis:p,alignmentAxis:f}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...u};return l&&typeof f=="number"&&(p=l==="end"?f*-1:f),r?{x:p*h,y:m*c}:{x:m*c,y:p*h}}const _e=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(t){var e,s;const{x:i,y:o,placement:a,middlewareData:l}=t,r=await De(t,n);return a===((e=l.offset)==null?void 0:e.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:i+r.x,y:o+r.y,data:{...r,placement:a}}}}},Ne=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(t){const{x:e,y:s,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:b=>{let{x:v,y}=b;return{x:v,y}}},...r}=q(n,t),c={x:e,y:s},h=await Ht(t,r),u=P(F(i)),m=ft(u);let p=c[m],f=c[u];if(o){const b=m==="y"?"top":"left",v=m==="y"?"bottom":"right",y=p+h[b],d=p-h[v];p=pt(y,p,d)}if(a){const b=u==="y"?"top":"left",v=u==="y"?"bottom":"right",y=f+h[b],d=f-h[v];f=pt(y,f,d)}const g=l.fn({...t,[m]:p,[u]:f});return{...g,data:{x:g.x-e,y:g.y-s}}}}},Fe=function(n){return n===void 0&&(n={}),{options:n,fn(t){const{x:e,y:s,placement:i,rects:o,middlewareData:a}=t,{offset:l=0,mainAxis:r=!0,crossAxis:c=!0}=q(n,t),h={x:e,y:s},u=P(i),m=ft(u);let p=h[m],f=h[u];const g=q(l,t),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(r){const d=m==="y"?"height":"width",E=o.reference[m]-o.floating[d]+b.mainAxis,w=o.reference[m]+o.reference[d]-b.mainAxis;p<E?p=E:p>w&&(p=w)}if(c){var v,y;const d=m==="y"?"width":"height",E=["top","left"].includes(F(i)),w=o.reference[u]-o.floating[d]+(E&&((v=a.offset)==null?void 0:v[u])||0)+(E?0:b.crossAxis),_=o.reference[u]+o.reference[d]+(E?0:((y=a.offset)==null?void 0:y[u])||0)-(E?b.crossAxis:0);f<w?f=w:f>_&&(f=_)}return{[m]:p,[u]:f}}}};function ht(){return typeof window<"u"}function z(n){return Yt(n)?(n.nodeName||"").toLowerCase():"#document"}function A(n){var t;return(n==null||(t=n.ownerDocument)==null?void 0:t.defaultView)||window}function D(n){var t;return(t=(Yt(n)?n.ownerDocument:n.document)||window.document)==null?void 0:t.documentElement}function Yt(n){return ht()?n instanceof Node||n instanceof A(n).Node:!1}function L(n){return ht()?n instanceof Element||n instanceof A(n).Element:!1}function I(n){return ht()?n instanceof HTMLElement||n instanceof A(n).HTMLElement:!1}function Ut(n){return!ht()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof A(n).ShadowRoot}function tt(n){const{overflow:t,overflowX:e,overflowY:s,display:i}=S(n);return/auto|scroll|overlay|hidden|clip/.test(t+s+e)&&!["inline","contents"].includes(i)}function Me(n){return["table","td","th"].includes(z(n))}function dt(n){return[":popover-open",":modal"].some(t=>{try{return n.matches(t)}catch{return!1}})}function vt(n){const t=yt(),e=L(n)?S(n):n;return e.transform!=="none"||e.perspective!=="none"||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(e.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(e.contain||"").includes(s))}function Oe(n){let t=M(n);for(;I(t)&&!G(t);){if(vt(t))return t;if(dt(t))return null;t=M(t)}return null}function yt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function G(n){return["html","body","#document"].includes(z(n))}function S(n){return A(n).getComputedStyle(n)}function ut(n){return L(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function M(n){if(z(n)==="html")return n;const t=n.assignedSlot||n.parentNode||Ut(n)&&n.host||D(n);return Ut(t)?t.host:t}function Kt(n){const t=M(n);return G(t)?n.ownerDocument?n.ownerDocument.body:n.body:I(t)&&tt(t)?t:Kt(t)}function zt(n,t,e){var s;t===void 0&&(t=[]);const i=Kt(n),o=i===((s=n.ownerDocument)==null?void 0:s.body),a=A(i);return o?(wt(a),t.concat(a,a.visualViewport||[],tt(i)?i:[],[])):t.concat(i,zt(i,[]))}function wt(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function Gt(n){const t=S(n);let e=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const i=I(n),o=i?n.offsetWidth:e,a=i?n.offsetHeight:s,l=lt(e)!==o||lt(s)!==a;return l&&(e=o,s=a),{width:e,height:s,$:l}}function Xt(n){return L(n)?n:n.contextElement}function X(n){const t=Xt(n);if(!I(t))return T(1);const e=t.getBoundingClientRect(),{width:s,height:i,$:o}=Gt(t);let a=(o?lt(e.width):e.width)/s,l=(o?lt(e.height):e.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const Be=T(0);function Zt(n){const t=A(n);return!yt()||!t.visualViewport?Be:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function je(n,t,e){return t===void 0&&(t=!1),!e||t&&e!==A(n)?!1:t}function et(n,t,e,s){t===void 0&&(t=!1),e===void 0&&(e=!1);const i=n.getBoundingClientRect(),o=Xt(n);let a=T(1);t&&(s?L(s)&&(a=X(s)):a=X(n));const l=je(o,e,s)?Zt(o):T(0);let r=(i.left+l.x)/a.x,c=(i.top+l.y)/a.y,h=i.width/a.x,u=i.height/a.y;if(o){const m=A(o),p=s&&L(s)?A(s):s;let f=m,g=wt(f);for(;g&&s&&p!==f;){const b=X(g),v=g.getBoundingClientRect(),y=S(g),d=v.left+(g.clientLeft+parseFloat(y.paddingLeft))*b.x,E=v.top+(g.clientTop+parseFloat(y.paddingTop))*b.y;r*=b.x,c*=b.y,h*=b.x,u*=b.y,r+=d,c+=E,f=A(g),g=wt(f)}}return ct({width:h,height:u,x:r,y:c})}function Et(n,t){const e=ut(n).scrollLeft;return t?t.left+e:et(D(n)).left+e}function Jt(n,t,e){e===void 0&&(e=!1);const s=n.getBoundingClientRect(),i=s.left+t.scrollLeft-(e?0:Et(n,s)),o=s.top+t.scrollTop;return{x:i,y:o}}function qe(n){let{elements:t,rect:e,offsetParent:s,strategy:i}=n;const o=i==="fixed",a=D(s),l=t?dt(t.floating):!1;if(s===a||l&&o)return e;let r={scrollLeft:0,scrollTop:0},c=T(1);const h=T(0),u=I(s);if((u||!u&&!o)&&((z(s)!=="body"||tt(a))&&(r=ut(s)),I(s))){const p=et(s);c=X(s),h.x=p.x+s.clientLeft,h.y=p.y+s.clientTop}const m=a&&!u&&!o?Jt(a,r,!0):T(0);return{width:e.width*c.x,height:e.height*c.y,x:e.x*c.x-r.scrollLeft*c.x+h.x+m.x,y:e.y*c.y-r.scrollTop*c.y+h.y+m.y}}function Pe(n){return Array.from(n.getClientRects())}function We(n){const t=D(n),e=ut(n),s=n.ownerDocument.body,i=K(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),o=K(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let a=-e.scrollLeft+Et(n);const l=-e.scrollTop;return S(s).direction==="rtl"&&(a+=K(t.clientWidth,s.clientWidth)-i),{width:i,height:o,x:a,y:l}}function Re(n,t){const e=A(n),s=D(n),i=e.visualViewport;let o=s.clientWidth,a=s.clientHeight,l=0,r=0;if(i){o=i.width,a=i.height;const c=yt();(!c||c&&t==="fixed")&&(l=i.offsetLeft,r=i.offsetTop)}return{width:o,height:a,x:l,y:r}}function Ve(n,t){const e=et(n,!0,t==="fixed"),s=e.top+n.clientTop,i=e.left+n.clientLeft,o=I(n)?X(n):T(1),a=n.clientWidth*o.x,l=n.clientHeight*o.y,r=i*o.x,c=s*o.y;return{width:a,height:l,x:r,y:c}}function Qt(n,t,e){let s;if(t==="viewport")s=Re(n,e);else if(t==="document")s=We(D(n));else if(L(t))s=Ve(t,e);else{const i=Zt(n);s={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return ct(s)}function te(n,t){const e=M(n);return e===t||!L(e)||G(e)?!1:S(e).position==="fixed"||te(e,t)}function He(n,t){const e=t.get(n);if(e)return e;let s=zt(n,[]).filter(l=>L(l)&&z(l)!=="body"),i=null;const o=S(n).position==="fixed";let a=o?M(n):n;for(;L(a)&&!G(a);){const l=S(a),r=vt(a);!r&&l.position==="fixed"&&(i=null),(o?!r&&!i:!r&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||tt(a)&&!r&&te(n,a))?s=s.filter(h=>h!==a):i=l,a=M(a)}return t.set(n,s),s}function Ye(n){let{element:t,boundary:e,rootBoundary:s,strategy:i}=n;const a=[...e==="clippingAncestors"?dt(t)?[]:He(t,this._c):[].concat(e),s],l=a[0],r=a.reduce((c,h)=>{const u=Qt(t,h,i);return c.top=K(u.top,c.top),c.right=J(u.right,c.right),c.bottom=J(u.bottom,c.bottom),c.left=K(u.left,c.left),c},Qt(t,l,i));return{width:r.right-r.left,height:r.bottom-r.top,x:r.left,y:r.top}}function Ue(n){const{width:t,height:e}=Gt(n);return{width:t,height:e}}function Ke(n,t,e){const s=I(t),i=D(t),o=e==="fixed",a=et(n,!0,o,t);let l={scrollLeft:0,scrollTop:0};const r=T(0);if(s||!s&&!o)if((z(t)!=="body"||tt(i))&&(l=ut(t)),s){const m=et(t,!0,o,t);r.x=m.x+t.clientLeft,r.y=m.y+t.clientTop}else i&&(r.x=Et(i));const c=i&&!s&&!o?Jt(i,l):T(0),h=a.left+l.scrollLeft-r.x-c.x,u=a.top+l.scrollTop-r.y-c.y;return{x:h,y:u,width:a.width,height:a.height}}function Ct(n){return S(n).position==="static"}function ee(n,t){if(!I(n)||S(n).position==="fixed")return null;if(t)return t(n);let e=n.offsetParent;return D(n)===e&&(e=e.ownerDocument.body),e}function se(n,t){const e=A(n);if(dt(n))return e;if(!I(n)){let i=M(n);for(;i&&!G(i);){if(L(i)&&!Ct(i))return i;i=M(i)}return e}let s=ee(n,t);for(;s&&Me(s)&&Ct(s);)s=ee(s,t);return s&&G(s)&&Ct(s)&&!vt(s)?e:s||Oe(n)||e}const ze=async function(n){const t=this.getOffsetParent||se,e=this.getDimensions,s=await e(n.floating);return{reference:Ke(n.reference,await t(n.floating),n.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function Ge(n){return S(n).direction==="rtl"}const Xe={convertOffsetParentRelativeRectToViewportRelativeRect:qe,getDocumentElement:D,getClippingRect:Ye,getOffsetParent:se,getElementRects:ze,getClientRects:Pe,getDimensions:Ue,getScale:X,isElement:L,isRTL:Ge},xt=_e,kt=Ne,At=$e,ie=Ie,Ze=Fe,Lt=(n,t,e)=>{const s=new Map,i={platform:Xe,...e},o={...i.platform,_c:s};return Te(n,t,{...i,platform:o})};class ne{constructor(t){this.element=t,this.popoverId=this.element.getAttribute("aria-controls"),this.popoverPosition=this.element.dataset.popoverPosition||"bottom",this.popoverGap=this.element.dataset.popoverGap||5,this.popoverAnchor=this.element.querySelector("[data-anchor]")||this.element,this.popoverElement=this.popoverId&&document.querySelector(`#${this.popoverId}`),this.popoverVisibleClass="active",this.popoverContent=!1,this.popoverIsOpen=!1,this.firstFocusable=null,this.lastFocusable=null}init(){this.popoverElement&&(this.constructor.setAttributes(this.element,{tabindex:"0","aria-haspopup":"dialog"}),this.initEvents())}initEvents(){this.element.addEventListener("click",this.togglePopover.bind(this)),this.element.addEventListener("keyup",t=>{(t.code&&t.code.toLowerCase()==="enter"||t.key&&t.key.toLowerCase()==="enter")&&this.togglePopover()}),window.addEventListener("DOMContentLoaded",()=>{this.popoverContent=this.popoverElement.innerHTML}),this.popoverElement.addEventListener("keydown",this.trapFocus.bind(this)),window.addEventListener("click",t=>{this.checkPopoverClick(t.target)}),window.addEventListener("keyup",t=>{(t.code&&t.code.toLowerCase()==="escape"||t.key&&t.key.toLowerCase()==="escape")&&this.checkPopoverFocus()}),this.debouncedTogglePopover=this.constructor.debounce(()=>{this.popoverIsOpen&&this.togglePopover()},300),window.addEventListener("resize",this.debouncedTogglePopover),window.addEventListener("scroll",this.debouncedTogglePopover)}static debounce(t,e){let s;return function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];const r=()=>{clearTimeout(s),t(...a)};clearTimeout(s),s=setTimeout(r,e)}}togglePopover(){this.popoverElement.classList.contains("active")?this.hidePopover():(this.popoverElement.focus(),this.showPopover())}showPopover(){this.constructor.setAttributes(this.popoverElement,{tabindex:"0",role:"dialog"}),this.popoverElement.setAttribute("aria-expanded","true"),this.popoverElement.classList.add("active"),this.popoverIsOpen=!0,this.getFocusableElements(),this.popoverElement.focus({preventScroll:!0}),this.element.addEventListener("transitionend",()=>{this.focusPopover()},{once:!0}),this.updatePopover(this.popoverElement,this.popoverPosition)}hidePopover(){this.popoverElement.setAttribute("aria-expanded","false"),this.popoverElement.classList.remove("active"),this.popoverIsOpen=!1}async updatePopover(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.popoverAnchor;try{const{x:i,y:o}=await Lt(s,t,{placement:e,middleware:[xt(parseInt(this.popoverGap,10)),At({fallbackAxisSideDirection:"start",crossAxis:!1}),kt({limiter:Ze()})]});Object.assign(t.style,{left:`${i}px`,top:`${o}px`})}catch(i){console.error("Error updating popover position:",i)}}checkPopoverClick(t){this.popoverIsOpen&&!this.popoverElement.contains(t)&&!t.closest(`[aria-controls="${this.popoverId}"]`)&&this.togglePopover()}checkPopoverFocus(){this.popoverIsOpen&&(this.constructor.moveFocus(this.element),this.togglePopover())}focusPopover(){this.firstFocusable?this.firstFocusable.focus({preventScroll:!0}):this.constructor.moveFocus(this.popoverElement)}getFocusableElements(){const e=this.popoverElement.querySelectorAll('[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex]:not([tabindex="-1"]), [contenteditable], audio[controls], video[controls], summary');this.getFirstVisible(e),this.getLastVisible(e)}getFirstVisible(t){for(let e=0;e<t.length;e+=1)if(this.constructor.isVisible(t[e])){this.firstFocusable=t[e];break}}getLastVisible(t){for(let e=t.length-1;e>=0;e-=1)if(this.constructor.isVisible(t[e])){this.lastFocusable=t[e];break}}trapFocus(t){this.firstFocusable===document.activeElement&&t.shiftKey&&(t.preventDefault(),this.lastFocusable.focus()),this.lastFocusable===document.activeElement&&!t.shiftKey&&(t.preventDefault(),this.firstFocusable.focus())}static isVisible(t){return t.offsetWidth||t.offsetHeight||t.getClientRects().length}static moveFocus(t){t.focus({preventScroll:!0}),document.activeElement!==t&&(t.setAttribute("tabindex","-1"),t.focus())}static setAttributes(t,e){Object.keys(e).forEach(s=>t.setAttribute(s,e[s]))}}class oe{constructor(t){this.element=t,this.select=this.element.querySelector("select"),this.optGroups=this.select&&this.select.getElementsByTagName("optgroup"),this.options=this.select&&this.select.getElementsByTagName("option"),this.selectId=this.select&&this.select.getAttribute("id"),this.trigger=!1,this.dropdown=!1,this.customOptions=!1,this.list=!1,this.allButton=!1,this.arrowIcon=this.element.getElementsByTagName("svg"),this.label=document.querySelector(`[for="${this.selectId}"]`),this.selectedOptCounter=0,this.optionIndex=0,this.noSelectText=this.element.getAttribute("data-select-text")||"Select",this.multiSelectText=this.element.getAttribute("data-multi-select-text")||"{n} items selected",this.nMultiSelect=this.element.getAttribute("data-n-multi-select")||1,this.noUpdateLabel=this.element.getAttribute("data-update-text")&&this.element.getAttribute("data-update-text")==="off",this.insetLabel=this.element.getAttribute("data-inset-label")&&this.element.getAttribute("data-inset-label")==="on",this.hideClass="nsw-display-none",this.showClass="active",this.errorClass="has-error",this.srClass="sr-only",this.prefix="nsw-",this.class="multi-select",this.buttonClass=`${this.class}__button`,this.allButtonClass=`${this.class}__all`,this.listClass=`${this.class}__list`,this.optionClass=`${this.class}__option`,this.dropdownClass=`${this.class}__dropdown`,this.checkboxClass=`${this.class}__checkbox`,this.itemClass=`${this.class}__item`,this.labelClass=`${this.class}__label`,this.termClass=`${this.class}__term`,this.detailsClass=`${this.class}__details`,this.selectClass="form__select",this.checkboxLabelClass="form__checkbox-label",this.checkboxInputClass="form__checkbox-input"}init(){this.select&&(this.element.insertAdjacentHTML("beforeend",this.initButtonSelect()+this.initListSelect()),this.dropdown=this.element.querySelector(`.js-${this.dropdownClass}`),this.trigger=this.element.querySelector(`.js-${this.buttonClass}`),this.customOptions=this.dropdown.querySelectorAll(`.js-${this.optionClass}`),this.list=this.dropdown.querySelector(`.js-${this.listClass}`),this.list.insertAdjacentHTML("afterbegin",this.initAllButton()),this.allButton=this.list.querySelector(`.js-${this.allButtonClass}`),this.select.classList.add(this.hideClass),this.arrowIcon.length>0&&(this.arrowIcon[0].style.display="none"),this.initCustomSelectEvents(),this.updateAllButton())}initCustomSelectEvents(){this.initSelection(),this.trigger.addEventListener("click",t=>{t.preventDefault(),this.toggleCustomSelect(!1)}),this.label&&this.label.addEventListener("click",()=>{this.constructor.moveFocusFn(this.trigger)}),this.dropdown.addEventListener("keydown",t=>{t.key&&t.key.toLowerCase()==="arrowup"?this.keyboardCustomSelect("prev",t):t.key&&t.key.toLowerCase()==="arrowdown"&&this.keyboardCustomSelect("next",t)}),window.addEventListener("keyup",t=>{t.key&&t.key.toLowerCase()==="escape"&&(this.moveFocusToSelectTrigger(),this.toggleCustomSelect("false"))}),window.addEventListener("click",t=>{this.checkCustomSelectClick(t.target)})}toggleCustomSelect(t){let e;if(t?e=t:e=this.trigger.getAttribute("aria-expanded")==="true"?"false":"true",this.trigger.setAttribute("aria-expanded",e),this.dropdown.querySelectorAll(`.js-${this.optionClass}`).forEach(i=>{const o=e==="true";i.setAttribute("aria-hidden",!o)}),e==="true"){const i=this.getSelectedOption()||this.allButton;this.constructor.moveFocusFn(i);const o=()=>{this.constructor.moveFocusFn(i),this.dropdown.removeEventListener("transitionend",o)};this.dropdown.addEventListener("transitionend",o),this.constructor.trapFocus(this.dropdown),this.placeDropdown()}}placeDropdown(){const{top:t,bottom:e,left:s}=this.trigger.getBoundingClientRect();this.dropdown.classList.toggle(`${this.prefix}${this.dropdownClass}--right`,window.innerWidth<s+this.dropdown.offsetWidth);const i=window.innerHeight-e<t;this.dropdown.classList.toggle(`${this.prefix}${this.dropdownClass}--up`,i);const o=i?t-20:window.innerHeight-e-20,a=Math.ceil(100*o/window.innerHeight);this.dropdown.setAttribute("style",`max-height: ${a}vh;`)}keyboardCustomSelect(t,e){e.preventDefault();const s=[...this.customOptions,this.allButton];let i=s.findIndex(a=>a===document.activeElement.closest(`.js-${this.optionClass}`));i=t==="next"?i+1:i-1,i<0&&(i=s.length-1),i>=s.length&&(i=0);const o=s[i].querySelector(`.js-${this.checkboxClass}`)||this.allButton;this.constructor.moveFocusFn(o)}toggleAllButton(){const t=!this.allButton.classList.contains(this.showClass);this.allButton.classList.toggle(this.showClass,t);const[e,s,i]=this.getOptions();e.forEach(o=>{o.setAttribute("aria-selected","false"),this.selectOption(o)}),i===s&&e.forEach(o=>this.selectOption(o))}initSelection(){this.allButton.addEventListener("click",t=>{t.preventDefault(),this.toggleAllButton()}),this.dropdown.addEventListener("change",t=>{const e=t.target.closest(`.js-${this.optionClass}`);e&&this.selectOption(e)}),this.dropdown.addEventListener("click",t=>{const e=t.target.closest(`.js-${this.optionClass}`);!e||!t.target.classList.contains(`js-${this.optionClass}`)||this.selectOption(e)})}selectOption(t){const e=t.querySelector(`.js-${this.checkboxClass}`);t.hasAttribute("aria-selected")&&t.getAttribute("aria-selected")==="true"?(e.checked=!1,e.removeAttribute("checked"),t.setAttribute("aria-selected","false"),this.updateNativeSelect(t.getAttribute("data-index"),!1)):(e.checked=!0,e.value=!0,e.setAttribute("checked",""),t.setAttribute("aria-selected","true"),this.updateNativeSelect(t.getAttribute("data-index"),!0));const s=this.getSelectedOptionText(),[i]=s;this.trigger.querySelector(`.js-${this.labelClass}`).innerHTML=i,this.trigger.classList.toggle(`${this.prefix}${this.buttonClass}--active`,this.selectedOptCounter>0),this.updateTriggerAria(s[1]),this.updateAllButton()}updateAllButton(){const[,t,e]=this.getOptions();e===t?this.allButton.classList.add(this.showClass):this.allButton.classList.remove(this.showClass)}updateNativeSelect(t,e){this.options[t].selected=e,this.select.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}updateTriggerAria(t){this.trigger.setAttribute("aria-label",t)}getSelectedOptionText(){const t=`<span class="${this.prefix}${this.termClass}">${this.noSelectText}</span>`;if(this.noUpdateLabel)return[t,this.noSelectText];let e="",s="";this.selectedOptCounter=0;for(let i=0;i<this.options.length;i+=1)this.options[i].selected&&(this.selectedOptCounter!==0&&(e+=", "),e=`${e}${this.options[i].text}`,this.selectedOptCounter+=1);return this.selectedOptCounter>this.nMultiSelect?(e=`<span class="${this.prefix}${this.detailsClass}">${this.multiSelectText.replace("{n}",this.selectedOptCounter)}</span>`,s=`${this.multiSelectText.replace("{n}",this.selectedOptCounter)}, ${this.noSelectText}`):this.selectedOptCounter>0?(s=`${e}, ${this.noSelectText}`,e=`<span class="${this.prefix}${this.detailsClass}">${e}</span>`):(e=t,s=this.noSelectText),this.insetLabel&&this.selectedOptCounter>0&&(e=t+e),[e,s]}initButtonSelect(){const t=this.element.getAttribute("data-trigger-class")?` ${this.element.getAttribute("data-trigger-class")}`:"",e=this.select.getAttribute("aria-invalid"),s=this.getSelectedOptionText(),i=this.selectedOptCounter>0?` ${this.buttonClass}--active`:"";let o=`<button class="js-${this.buttonClass} ${e==="true"?this.errorClass:""} ${this.prefix}${this.selectClass} ${this.prefix}${this.buttonClass}${t}${i}" aria-label="${s[1]}" aria-expanded="false" aria-controls="${this.selectId}-dropdown"><span aria-hidden="true" class="js-${this.labelClass} ${this.prefix}${this.labelClass}">${s[0]}</span><span class="material-icons nsw-material-icons" focusable="false" aria-hidden="true">keyboard_arrow_down</span>`;return this.arrowIcon.length>0&&this.arrowIcon[0].outerHTML&&(o+=this.arrowIcon[0].outerHTML),`${o}</button>`}initListSelect(){let t=`<div class="js-${this.dropdownClass} ${this.prefix}${this.dropdownClass}" aria-describedby="${this.selectId}-description" id="${this.selectId}-dropdown">`;if(t+=this.getSelectLabelSR(),this.optGroups.length>0)for(let e=0;e<this.optGroups.length;e+=1){const s=this.optGroups[e].getElementsByTagName("option"),i=`<li><span class="${this.prefix}${this.itemClass} ${this.prefix}${this.itemClass}--optgroup">${this.optGroups[e].getAttribute("label")}</span></li>`;t=`${t}<ul class="${this.prefix}${this.listClass}" role="listbox" aria-multiselectable="true">${i}${this.getOptionsList(s)}</ul>`}else t=`${t}<ul class="${this.prefix}${this.listClass} js-${this.listClass}" role="listbox" aria-multiselectable="true">${this.getOptionsList(this.options)}</ul>`;return t}initAllButton(){return`<button class="${this.prefix}${this.allButtonClass} js-${this.allButtonClass}"><span>All</span></button>`}getSelectLabelSR(){return this.label?`<p class="${this.srClass}" id="${this.selectId}-description">${this.label.textContent}</p>`:""}getOptionsList(t){let e="";for(let s=0;s<t.length;s+=1){const i=t[s].hasAttribute("selected")?' aria-selected="true"':' aria-selected="false"',o=t[s].hasAttribute("disabled")?"disabled":"",a=t[s].hasAttribute("selected")?"checked":"",l=this.constructor.createSafeCss(`${this.selectId}-${t[s].value}-${this.optionIndex.toString()}`),r=t[s].hasAttribute("hidden")?'aria-hidden="true"':"";e=`${e}<li class="js-${this.optionClass}" role="option" data-value="${t[s].value}" ${i} ${r} data-label="${t[s].text}" data-index="${this.optionIndex}"><input class="${this.prefix}${this.checkboxInputClass} js-${this.checkboxClass}" type="checkbox" id="${l}" ${a} ${o}><label class="${this.prefix}${this.checkboxLabelClass} ${this.prefix}${this.itemClass} ${this.prefix}${this.itemClass}--option" for="${l}"><span>${t[s].text}</span></label></li>`,this.optionIndex+=1}return e}getSelectedOption(){const t=this.dropdown.querySelector('[aria-selected="true"]');return t?t.querySelector(`.js-${this.checkboxClass}`):this.allButton}getOptions(){const t=Array.from(this.dropdown.querySelectorAll(`.js-${this.optionClass}`)),e=t.length,s=t.filter(i=>i.getAttribute("aria-selected")==="true").length;return[t,e,s]}moveFocusToSelectTrigger(){document.activeElement.closest(`.js-${this.class}`)&&this.trigger.focus()}static trapFocus(t){const e='a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])',s=t.querySelectorAll(e)[0],i=t.querySelectorAll(e),o=i[i.length-1];document.addEventListener("keydown",a=>{(a.key==="Tab"||a.code===9)&&(a.shiftKey?document.activeElement===s&&(o.focus(),a.preventDefault()):document.activeElement===o&&(s.focus(),a.preventDefault()))}),s.focus()}checkCustomSelectClick(t){this.element.contains(t)||this.toggleCustomSelect("false")}static createSafeCss(t){const e=/^([0-9]|--|-[0-9])/;if(typeof t!="string")return"";const s=t.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).map(i=>i.toLowerCase()).join("-");return e.test(s)?`_${s}`:s}static moveFocusFn(t){t.focus(),document.activeElement!==t&&(t.setAttribute("tabindex","-1"),t.focus())}}class St{constructor(t){this.element=t,this.originalButton=document.querySelector(".js-open-search"),this.targetElement=document.getElementById(this.element.getAttribute("aria-controls")),this.searchInput=this.targetElement.querySelector("input.js-search-input"),this.pressed=this.element.getAttribute("aria-expanded")==="true"}init(){this.originalButton&&this.controls()}controls(){this.element.addEventListener("click",this.showHide.bind(this),!1)}showHide(){this.pressed?(this.targetElement.hidden=!0,this.originalButton.hidden=!1,this.originalButton.focus()):(this.targetElement.hidden=!1,this.originalButton.hidden=!0,this.searchInput.focus())}}class ae{constructor(t,e){this.element=t,this.tablistClass=".nsw-tabs__list",this.tablistItemClass="li",this.tablistLinkClass="a",this.showTab=e,this.tabList=this.element.querySelector(this.tablistClass),this.tabItems=this.tabList&&this.tabList.querySelectorAll(this.tablistItemClass),this.allowedKeys=[35,36,37,39,40],this.tabLinks=[],this.tabPanel=[],this.selectedTab=null,this.clickTabEvent=s=>this.clickTab(s),this.arrowKeysEvent=s=>this.arrowKeys(s),this.owns=[]}init(){this.tabList&&(this.setUpDom(),this.controls(),this.setInitalTab())}setUpDom(){const t=document.createElement("div");t.classList.add("nsw-tabs__list-wrapper"),this.element.prepend(t),t.prepend(this.tabList),this.tabList.setAttribute("role","tablist"),this.tabItems.forEach(e=>{const s=e,i=e.querySelector(this.tablistLinkClass),o=this.element.querySelector(i.hash),a=U("tab");this.owns.push(a),s.setAttribute("role","presentation"),this.enhanceTabLink(i,a),this.enhanceTabPanel(o,a)}),this.tabList.setAttribute("aria-owns",this.owns.join(" "))}enhanceTabLink(t,e){t.setAttribute("role","tab"),t.setAttribute("id",e),t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this.tabLinks.push(t)}enhanceTabPanel(t,e){const s=t;s.setAttribute("role","tabpanel"),s.setAttribute("role","tabpanel"),s.setAttribute("aria-labelledBy",e),s.setAttribute("tabindex","0"),s.hidden=!0,this.tabPanel.push(s)}setInitalTab(){const{tabLinks:t,tabPanel:e,showTab:s}=this,i=s===void 0?0:s,o=t[i];o.classList.add("active"),o.removeAttribute("tabindex"),o.setAttribute("aria-selected",!0),e[i].hidden=!1,this.selectedTab=o}clickTab(t){t.preventDefault(),this.switchTabs(t.currentTarget)}switchTabs(t){const e=t;if(e!==this.selectedTab){e.focus(),e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),e.classList.add("active"),this.selectedTab.setAttribute("aria-selected",!1),this.selectedTab.setAttribute("tabindex","-1"),this.selectedTab.classList.remove("active");const s=this.tabLinks.indexOf(e),i=this.tabLinks.indexOf(this.selectedTab);this.tabPanel[s].hidden=!1,this.tabPanel[i].hidden=!0,this.selectedTab=e,e.classList.contains("js-tabs-fixed")||e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}}arrowKeys(t){let{which:e}=t;const s=this.tabLinks.length-1;let i=this.tabLinks.indexOf(this.selectedTab),o=!1;if(this.allowedKeys.includes(e)){switch(e){case 35:i=s;break;case 36:i=0;break;case 37:i=i===0?-1:i-=1;break;case 39:i=i===s?-1:i+=1;break;case 40:o=!0;break}i>-1&&(o?this.tabPanel[i].focus():this.switchTabs(this.tabLinks[i]))}}controls(){this.tabLinks.forEach(t=>{t.addEventListener("click",this.clickTabEvent,!1),t.addEventListener("keydown",this.arrowKeysEvent,!1)})}}function le(n,t){function e(){return new DOMParser().parseFromString(n,"text/html").body||document.createElement("body")}function s(r){const c=r.querySelectorAll("script");for(const h of c)h.remove()}function i(r,c){const h=c.replace(/\s+/g,"").toLowerCase();return!!(["src","href","xlink:href"].includes(r)&&(h.includes("javascript:")||h.includes("data:text/html"))||r.startsWith("on"))}function o(r){const c=r.attributes;for(const{name:h,value:u}of c)i(h,u)&&r.removeAttribute(h)}function a(r){const c=r.children;for(const h of c)o(h),a(h)}const l=e();return s(l),a(l),t?l.childNodes:l.innerHTML}class Tt{constructor(t){this.toggletip=t,this.toggletipId=this.toggletip.getAttribute("aria-controls"),this.toggletipElement=this.toggletipId&&document.querySelector(`#${this.toggletipId}`),this.toggletipContent=!1,this.toggletipAnchor=this.toggletip.querySelector("[data-anchor]")||this.toggletip,this.toggletipText=this.toggletip.innerText,this.toggletipHeading=this.toggletip.getAttribute("data-title")||this.toggletipText,this.arrowElement=!1,this.closeButton=!1,this.toggletipIsOpen=!1,this.toggletipVisibleClass="active",this.firstFocusable=!1,this.lastFocusable=!1}init(){this.toggletipElement&&(this.constructor.setAttributes(this.toggletip,{tabindex:"0","aria-haspopup":"dialog"}),this.initEvents())}initEvents(){this.toggletip.addEventListener("click",this.toggleToggletip.bind(this)),this.toggletip.addEventListener("keyup",t=>{(t.code&&t.code.toLowerCase()==="enter"||t.key&&t.key.toLowerCase()==="enter")&&this.toggleToggletip()}),window.addEventListener("DOMContentLoaded",()=>{this.toggletipContent=this.toggletipElement.innerHTML}),this.toggletipElement.addEventListener("keydown",this.trapFocus.bind(this)),window.addEventListener("click",t=>{this.checkToggletipClick(t.target)}),window.addEventListener("keyup",t=>{(t.code&&t.code.toLowerCase()==="escape"||t.key&&t.key.toLowerCase()==="escape")&&this.checkToggletipFocus()}),window.addEventListener("resize",()=>{this.toggletipIsOpen&&this.toggleToggletip()}),window.addEventListener("scroll",()=>{this.toggletipIsOpen&&this.toggleToggletip()})}toggleToggletip(){this.toggletipElement.classList.contains("active")?this.hideToggletip():(this.toggletipElement.focus(),this.showToggletip())}createToggletipElement(){if(this.toggletipElement){this.toggletipElement.innerHTML="";const t=`
      <div class="nsw-toggletip__header">
        <div id="nsw-toggletip__header" class="sr-only">${le(this.toggletipHeading)}</div>
        <button type="button" class="nsw-icon-button">
          <span class="sr-only">Remove file</span>
          <span class="material-icons nsw-material-icons" focusable="false" aria-hidden="true">close</span>
        </button>
      </div>
      <div id="nsw-toggletip__content" class="nsw-toggletip__content">
        ${le(this.toggletipContent)}
      </div>
      <div class="nsw-toggletip__arrow"></div>`;this.toggletipElement.insertAdjacentHTML("afterbegin",t)}this.constructor.setAttributes(this.toggletipElement,{"aria-labelledby":"nsw-toggletip__header","aria-describedby":"nsw-toggletip__content","aria-expanded":"false",tabindex:"0",role:"dialog"})}showToggletip(){this.createToggletipElement(),this.arrowElement=this.toggletipElement.querySelector(".nsw-toggletip__arrow"),this.closeButton=this.toggletipElement.querySelector(".nsw-icon-button"),this.toggletipElement.setAttribute("aria-expanded","true"),this.toggletipElement.classList.add("active"),this.toggletipIsOpen=!0,this.getFocusableElements(),this.toggletipElement.focus({preventScroll:!0}),this.toggletip.addEventListener("transitionend",()=>{this.focusToggletip()},{once:!0}),this.updateToggletip(this.toggletipElement,this.arrowElement),this.closeButton.addEventListener("click",this.toggleToggletip.bind(this))}hideToggletip(){this.toggletipElement.setAttribute("aria-expanded","false"),this.toggletipElement.classList.remove("active"),this.toggletipIsOpen=!1}updateToggletip(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.toggletipAnchor;Lt(s,t,{placement:"top",middleware:[xt(8),At(),kt({padding:5}),ie({element:e})]}).then(i=>{let{x:o,y:a,placement:l,middlewareData:r}=i;Object.assign(t.style,{left:`${o}px`,top:`${a}px`});const{x:c,y:h}=r.arrow,u={top:"bottom",right:"left",bottom:"top",left:"right"}[l.split("-")[0]];Object.assign(e.style,{left:c!=null?`${c}px`:"",top:h!=null?`${h}px`:"",right:"",bottom:"",[u]:"-6px"})})}checkToggletipClick(t){this.toggletipIsOpen&&!this.toggletipElement.contains(t)&&!t.closest(`[aria-controls="${this.toggletipId}"]`)&&this.toggleToggletip()}checkToggletipFocus(){this.toggletipIsOpen&&(this.constructor.moveFocus(this.toggletip),this.toggleToggletip())}focusToggletip(){this.firstFocusable?this.firstFocusable.focus({preventScroll:!0}):this.constructor.moveFocus(this.toggletipElement)}getFocusableElements(){const e=this.toggletipElement.querySelectorAll('[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex]:not([tabindex="-1"]), [contenteditable], audio[controls], video[controls], summary');this.getFirstVisible(e),this.getLastVisible(e)}getFirstVisible(t){for(let e=0;e<t.length;e+=1)if(this.constructor.isVisible(t[e])){this.firstFocusable=t[e];break}}getLastVisible(t){for(let e=t.length-1;e>=0;e-=1)if(this.constructor.isVisible(t[e])){this.lastFocusable=t[e];break}}trapFocus(t){this.firstFocusable===document.activeElement&&t.shiftKey&&(t.preventDefault(),this.lastFocusable.focus()),this.lastFocusable===document.activeElement&&!t.shiftKey&&(t.preventDefault(),this.firstFocusable.focus())}static isVisible(t){return t.offsetWidth||t.offsetHeight||t.getClientRects().length}static moveFocus(t){t.focus({preventScroll:!0}),document.activeElement!==t&&(t.setAttribute("tabindex","-1"),t.focus())}static setAttributes(t,e){Object.keys(e).forEach(s=>t.setAttribute(s,e[s]))}}class re{constructor(t){this.tooltip=t,this.uID=U("tooltip"),this.tooltipElement=!1,this.arrowElement=!1,this.tooltipContent=!1,this.tooltipDelay=400,this.screenSize=!1,this.tooltipTheme=this.tooltip.getAttribute("data-theme")||"dark"}init(){if(this.tooltipContent=this.tooltip.getAttribute("title"),!this.tooltipContent)return;this.constructor.setAttributes(this.tooltip,{"data-tooltip-content":this.tooltipContent,"aria-describedby":this.uID,tabindex:"0"}),this.tooltip.removeAttribute("title"),["mouseenter","mouseleave","focus","blur"].forEach((e,s)=>{let{listener:i=this.handleEvent.bind(this)}=s;this.tooltip.addEventListener(e,i)})}handleEvent(t){switch(t.type){case"mouseenter":case"focus":this.showTooltip(this,t);break;case"mouseleave":case"blur":this.hideTooltip(this,t);break;default:console.log(`Unexpected event type: ${t.type}`);break}}createTooltipElement(){this.tooltipElement||(this.tooltipElement=document.createElement("div"),document.body.appendChild(this.tooltipElement)),this.constructor.setAttributes(this.tooltipElement,{id:this.uID,class:`nsw-tooltip__element nsw-tooltip__element--${this.tooltipTheme}`,role:"tooltip"}),this.tooltip&&(this.arrowElement=document.createElement("div"),this.arrowElement.className="nsw-tooltip__arrow"),this.tooltipContent=this.tooltip.getAttribute("data-tooltip-content"),this.tooltipElement.innerHTML=this.tooltipContent,this.tooltipElement.insertAdjacentElement("beforeend",this.arrowElement)}showTooltip(){setTimeout(()=>{this.createTooltipElement(),this.tooltipElement.classList.add("active");const t=document.createRange(),e=this.tooltipElement.childNodes[0];t.setStartBefore(e),t.setEndAfter(e);const s=t.getBoundingClientRect();this.matchMedia(),this.tooltipElement.style.width=`${s.width+this.screenSize}px`,this.updateTooltip(this.tooltipElement,this.arrowElement)},this.tooltipDelay)}hideTooltip(){setTimeout(()=>{this.tooltipElement.classList.remove("active"),this.tooltipElement.style.width=""},this.tooltipDelay)}matchMedia(){window.matchMedia("(min-width: 576px)").matches?this.screenSize=32:this.screenSize=16}updateTooltip(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.tooltip;Lt(s,t,{placement:"top",middleware:[xt(8),At(),kt({padding:5}),ie({element:e})]}).then(i=>{let{x:o,y:a,placement:l,middlewareData:r}=i;Object.assign(t.style,{left:`${o}px`,top:`${a}px`});const{x:c,y:h}=r.arrow,u={top:"bottom",right:"left",bottom:"top",left:"right"}[l.split("-")[0]];Object.assign(e.style,{left:c!=null?`${c}px`:"",top:h!=null?`${h}px`:"",right:"",bottom:"",[u]:"-6px"})})}static setAttributes(t,e){Object.keys(e).forEach(s=>t.setAttribute(s,e[s]))}}class ce extends Tt{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.querySelector(".js-share");super(e===null?t:e),this.element=t,this.share=e,this.print=this.element.querySelectorAll(".js-print-page"),this.download=this.element.querySelectorAll(".js-download-page"),this.copy=this.element.querySelectorAll(".js-copy-clipboard"),this.shareItems=this.share&&this.share.querySelectorAll("a"),this.urlLocation=window.location.href,this.copyElement=!1}init(){this.share&&(super.init(),this.shareItems.forEach(t=>{t.getAttribute("data-url")||t.setAttribute("data-url",window.location.href)}),this.share.addEventListener("click",t=>{const e=t.target.closest("a");if(!e)return;t.preventDefault();const s=e.getAttribute("data-social"),i=this.getSocialUrl(e,s);s==="mail"?window.location.href=i:window.open(i,`${s}-share-dialog`,"width=626,height=436")})),this.print&&this.print.forEach(t=>{t.setAttribute("tabindex","0"),t.addEventListener("click",()=>{window.print()}),t.addEventListener("keyup",e=>{(e.code&&e.code.toLowerCase()==="enter"||e.key&&e.key.toLowerCase()==="enter")&&window.print()})}),this.download&&this.download.forEach(t=>{t.setAttribute("tabindex","0")}),this.copy&&this.copy.forEach(t=>{t.setAttribute("tabindex","0"),t.addEventListener("click",()=>{this.copyToClipboard(t)}),t.addEventListener("keyup",e=>{(e.code&&e.code.toLowerCase()==="enter"||e.key&&e.key.toLowerCase()==="enter")&&this.copyToClipboard(t)})})}getSocialUrl(t,e){const s=this.getSocialParams(e);let i="";return e==="twitter"&&this.getTwitterText(t),s.forEach(o=>{let a=t.getAttribute(`data-${o}`);o==="hashtags"&&(a=encodeURI(a.replace(/#| /g,""))),a&&(e==="facebook"?i=`${i}u=${encodeURIComponent(a)}&`:i=`${i+o}=${encodeURIComponent(a)}&`)}),e==="linkedin"&&(i=`mini=true&${i}`),`${t.getAttribute("href")}?${i}`}getSocialParams(t){switch(t){case"twitter":this.socialParams=["text","hashtags"];break;case"facebook":case"linkedin":this.socialParams=["url"];break;case"mail":this.socialParams=["subject","body"];break;default:console.log("No social links found");break}return this.socialParams}getTwitterText(t){let e=t.getAttribute("data-text");const s=t.getAttribute("data-url")||this.urlLocation,i=t.getAttribute("data-username");i?e=`${e} ${s} via ${i}`:e=`${e} ${s}`,t.setAttribute("data-text",e),t.removeAttribute("data-url"),t.removeAttribute("data-username")}copyToClipboard(t){if(navigator.clipboard)navigator.clipboard.writeText(this.urlLocation).then(()=>{this.copiedMessage(t)});else{const e=document.createElement("input");e.setAttribute("value",this.urlLocation),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),this.copiedMessage(t)}}copiedMessage(t){this.copyElement=t;const e='<span class="material-icons nsw-material-icons" focusable="false" aria-hidden="true">link</span>';this.copyElement.classList.add("copied"),this.copyElement.innerHTML=`${e} Copied`,setTimeout(()=>{this.copyElement.classList.remove("copied"),this.copyElement.innerHTML=`${e} Copy link`},3e3)}}window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){const e=this;let s=this;if(!document.documentElement.contains(e))return null;do{if(s.matches(t))return s;s=s.parentElement}while(s!==null);return null});function Je(){const n=document.querySelectorAll(".js-accordion"),t=document.querySelectorAll("button.js-back-to-top"),e=document.querySelectorAll(".js-breadcrumbs"),s=document.querySelectorAll(".js-carousel"),i=document.querySelectorAll("button.js-close-search"),o=document.querySelectorAll(".js-date-input"),a=document.querySelectorAll(".js-dialog"),l=document.querySelectorAll(".js-file-upload"),r=document.querySelectorAll(".js-filters"),c=document.querySelectorAll(".js-global-alert"),h=document.querySelectorAll("a.js-link"),u=document.querySelectorAll(".js-multi-select"),m=document.getElementById("main-nav"),p=document.querySelectorAll("button.js-open-search"),f=document.querySelectorAll(".js-popover"),g=document.querySelectorAll(".js-tabs"),b=document.querySelectorAll(".js-toggletip"),v=document.querySelectorAll(".js-tooltip"),y=document.querySelectorAll(".js-utility-list");n&&n.forEach(d=>{new Dt(d).init()}),t&&t.forEach(d=>{new _t(d).init()}),e&&e.forEach(d=>{new ye(d).init()}),s&&s.forEach(d=>{new Mt(d).init()}),i&&i.forEach(d=>{new St(d).init()}),o&&o.forEach(d=>{new Nt(d).init()}),a&&a.forEach(d=>{new Ot(d).init()}),l&&l.forEach(d=>{new jt(d).init()}),r&&r.forEach(d=>{new qt(d).init()}),c&&c.forEach(d=>{new Pt(d).init()}),h&&h.forEach(d=>{new Bt(d).init()}),u&&u.forEach(d=>{new oe(d).init()}),m&&new Wt(m).init(),p&&p.forEach(d=>{new St(d).init()}),f&&f.forEach(d=>{new ne(d).init()}),g&&g.forEach(d=>{new ae(d).init()}),b&&b.forEach(d=>{new Tt(d).init()}),v&&v.forEach(d=>{new re(d).init()}),y&&y.forEach(d=>{new ce(d).init()})}C.Accordion=Dt,C.BackTop=_t,C.Carousel=Mt,C.DatePicker=Nt,C.Dialog=Ot,C.ExternalLink=Bt,C.FileUpload=jt,C.Filters=qt,C.GlobalAlert=Pt,C.Navigation=Wt,C.Popover=ne,C.Select=oe,C.SiteSearch=St,C.Tabs=ae,C.Toggletip=Tt,C.Tooltip=re,C.UtilityList=ce,C.initSite=Je})}(ot,ot.exports)),ot.exports}var is=ss();const ns=ts(is),as=Object.freeze(Object.defineProperty({__proto__:null,default:ns},Symbol.toStringTag,{value:"Module"}));export{as as m};
//# sourceMappingURL=main.Dgjlpm3E.js.map
