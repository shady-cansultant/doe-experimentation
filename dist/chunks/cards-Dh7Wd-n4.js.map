{"version":3,"file":"cards-Dh7Wd-n4.js","sources":["../../src/blocks/cards/cards.js"],"sourcesContent":["import 'nsw-design-system/src/components/card/_card.scss';\nimport './cards.css';\n\nimport { createOptimizedPicture } from '../../scripts/aem.js';\nimport { moveInstrumentation } from '../../scripts/scripts.js';\n\nexport default function decorate(block) {\n  /* change to ul, li */\n  const ul = document.createElement('ul');\n  [...block.children].forEach((row) => {\n    const li = document.createElement('li');\n    li.classList.add('nsw-card', 'nsw-card--dark');\n    moveInstrumentation(row, li);\n    while (row.firstElementChild) li.append(row.firstElementChild);\n\n    const [firstColumn, secondDiv, thirdDiv, fourthDiv] = li.children;\n\n    // case (1) - Image exists\n    if (firstColumn.querySelector('picture')) {\n      firstColumn.className = 'nsw-card__image';\n    } else {\n      // remove the div\n      firstColumn.remove();\n    }\n\n    // case (2) - Second div Headline (required)\n    const contentWrapper = document.createElement('div');\n    contentWrapper.className = 'nsw-card__content';\n\n    const titleWrapper = document.createElement('div');\n    titleWrapper.className = 'nsw-card__title';\n\n    // move the children of the second div to the titleWrapper\n    while (secondDiv.firstElementChild) titleWrapper.append(secondDiv.firstElementChild);\n\n    contentWrapper.append(titleWrapper);\n\n    // insert after the firstColumn\n    firstColumn.after(contentWrapper);\n\n    secondDiv.remove();\n\n    // case (3) - Third div Text (optional)\n    if (thirdDiv.innerHTML.trim()) {\n      const copyWrapper = document.createElement('div');\n      copyWrapper.className = 'nsw-card__copy';\n\n      copyWrapper.append(thirdDiv);\n\n      // insert after the third div\n      contentWrapper.append(copyWrapper);\n    } else {\n      thirdDiv.remove();\n    }\n\n    // case (4) - Fourth div Trailing Icon (optional)\n    if (fourthDiv.innerHTML.trim()) {\n      // get the current type of icon\n      const icon = fourthDiv.querySelector('.icon');\n      if (icon) {\n        icon.classList.add('material-icons', 'nsw-material-icons');\n        icon.setAttribute('focusable', 'false');\n        icon.setAttribute('aria-hidden', 'true');\n        icon.textContent = '';\n        contentWrapper.append(fourthDiv);\n      } else {\n        fourthDiv.remove();\n      }\n    }\n\n    ul.append(li);\n  });\n  ul.querySelectorAll('picture > img').forEach((img) => {\n    const optimizedPic = createOptimizedPicture(img.src, img.alt, false, [{ width: '750' }]);\n    moveInstrumentation(img, optimizedPic.querySelector('img'));\n    img.closest('picture').replaceWith(optimizedPic);\n  });\n  block.textContent = '';\n  block.append(ul);\n}\n"],"names":["decorate","block","ul","row","li","moveInstrumentation","firstColumn","secondDiv","thirdDiv","fourthDiv","contentWrapper","titleWrapper","copyWrapper","icon","img","optimizedPic","createOptimizedPicture"],"mappings":"4CAMe,SAASA,EAASC,EAAO,CAEtC,MAAMC,EAAK,SAAS,cAAc,IAAI,EACtC,CAAC,GAAGD,EAAM,QAAQ,EAAE,QAASE,GAAQ,CACnC,MAAMC,EAAK,SAAS,cAAc,IAAI,EAGtC,IAFAA,EAAG,UAAU,IAAI,WAAY,gBAAgB,EAC7CC,EAAoBF,EAAKC,CAAE,EACpBD,EAAI,mBAAmBC,EAAG,OAAOD,EAAI,iBAAiB,EAE7D,KAAM,CAACG,EAAaC,EAAWC,EAAUC,CAAS,EAAIL,EAAG,SAGrDE,EAAY,cAAc,SAAS,EACrCA,EAAY,UAAY,kBAGxBA,EAAY,OAAQ,EAItB,MAAMI,EAAiB,SAAS,cAAc,KAAK,EACnDA,EAAe,UAAY,oBAE3B,MAAMC,EAAe,SAAS,cAAc,KAAK,EAIjD,IAHAA,EAAa,UAAY,kBAGlBJ,EAAU,mBAAmBI,EAAa,OAAOJ,EAAU,iBAAiB,EAUnF,GARAG,EAAe,OAAOC,CAAY,EAGlCL,EAAY,MAAMI,CAAc,EAEhCH,EAAU,OAAQ,EAGdC,EAAS,UAAU,OAAQ,CAC7B,MAAMI,EAAc,SAAS,cAAc,KAAK,EAChDA,EAAY,UAAY,iBAExBA,EAAY,OAAOJ,CAAQ,EAG3BE,EAAe,OAAOE,CAAW,CACvC,MACMJ,EAAS,OAAQ,EAInB,GAAIC,EAAU,UAAU,OAAQ,CAE9B,MAAMI,EAAOJ,EAAU,cAAc,OAAO,EACxCI,GACFA,EAAK,UAAU,IAAI,iBAAkB,oBAAoB,EACzDA,EAAK,aAAa,YAAa,OAAO,EACtCA,EAAK,aAAa,cAAe,MAAM,EACvCA,EAAK,YAAc,GACnBH,EAAe,OAAOD,CAAS,GAE/BA,EAAU,OAAQ,CAE1B,CAEIP,EAAG,OAAOE,CAAE,CAChB,CAAG,EACDF,EAAG,iBAAiB,eAAe,EAAE,QAASY,GAAQ,CACpD,MAAMC,EAAeC,EAAuBF,EAAI,IAAKA,EAAI,IAAK,GAAO,CAAC,CAAE,MAAO,KAAO,CAAA,CAAC,EACvFT,EAAoBS,EAAKC,EAAa,cAAc,KAAK,CAAC,EAC1DD,EAAI,QAAQ,SAAS,EAAE,YAAYC,CAAY,CACnD,CAAG,EACDd,EAAM,YAAc,GACpBA,EAAM,OAAOC,CAAE,CACjB"}