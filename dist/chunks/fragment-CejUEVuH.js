import{d as c,l as o}from"./delayed-DULJvci_.js";async function l(e){if(e&&e.startsWith("/")){e=e.replace(/(\.plain)?\.html/,"");const n=await fetch(`${e}.plain.html`);if(n.ok){const t=document.createElement("main");t.innerHTML=await n.text();const i=(r,s)=>{t.querySelectorAll(`${r}[${s}^="./media_"]`).forEach(a=>{a[s]=new URL(a.getAttribute(s),new URL(e,window.location)).href})};return i("img","src"),i("source","srcset"),c(t),await o(t),t}}return null}async function f(e){const n=e.querySelector("a"),t=n?n.getAttribute("href"):e.textContent.trim(),i=await l(t);if(i){const r=i.querySelector(":scope .section");r&&(e.classList.add(...r.classList),e.classList.remove("section"),e.replaceChildren(...r.childNodes))}}export{f as default,l as loadFragment};
//# sourceMappingURL=fragment-CejUEVuH.js.map
